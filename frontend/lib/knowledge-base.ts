// Social Garden Knowledge Base for SOW Generation

export const SOCIAL_GARDEN_KNOWLEDGE_BASE = {
  rateCard: {
    // Account Management
    "Account Management - Head Of": { rate: 365, role: "Head Of Account Management" },
    "Account Management - Director": { rate: 295, role: "Director Account Management" },
    "Account Management - Senior Account Manager": { rate: 210, role: "Senior Account Manager" },
    "Account Management - Account Manager": { rate: 180, role: "Account Manager" },
    "Account Management - Account Coordinator": { rate: 120, role: "Account Coordinator" },

    // Project Management
    "Project Management - Head Of": { rate: 295, role: "Head Of Project Management" },
    "Project Management - Senior Project Manager": { rate: 210, role: "Senior Project Manager" },
    "Project Management - Project Manager": { rate: 180, role: "Project Manager" },

    // Tech - Delivery
    "Tech - Delivery - Project Coordination": { rate: 110, role: "Project Coordination" },
    "Tech - Delivery - Project Management": { rate: 150, role: "Project Management" },

    // Tech - Head Of
    "Tech - Head Of - Customer Success": { rate: 365, role: "Head Of Customer Success" },
    "Tech - Head Of - Program Strategy": { rate: 365, role: "Head Of Program Strategy" },
    "Tech - Head Of - Senior Project Management": { rate: 365, role: "Head Of Senior Project Management" },
    "Tech - Head Of - Systems": { rate: 365, role: "Head Of Systems" },

    // Tech - Integrations
    "Tech - Integrations": { rate: 170, role: "Integration Specialist" },
    "Tech - Integrations (Senior)": { rate: 295, role: "Senior Integration Specialist" },

    // Tech - General
    "Tech - Keyword Research": { rate: 120, role: "Keyword Research" },
    "Tech - Landing Page - (Offshore)": { rate: 120, role: "Landing Page (Offshore)" },
    "Tech - Landing Page - (Onshore)": { rate: 210, role: "Landing Page (Onshore)" },
    "Tech - Website Optimisation": { rate: 120, role: "Website Optimisation" },

    // Tech - Producer (all at $120)
    "Tech - Producer - Admin": { rate: 120, role: "Producer Admin" },
    "Tech - Producer - Campaign Orchestration": { rate: 120, role: "Producer Campaign Orchestration" },
    "Tech - Producer - Chat Bot Build": { rate: 120, role: "Producer Chat Bot Build" },
    "Tech - Producer - Copywriting": { rate: 120, role: "Producer Copywriting" },
    "Tech - Producer - Deployment": { rate: 120, role: "Producer Deployment" },
    "Tech - Producer - Design": { rate: 120, role: "Producer Design" },
    "Tech - Producer - Development": { rate: 120, role: "Producer Development" },
    "Tech - Producer - Documentation": { rate: 120, role: "Producer Documentation" },
    "Tech - Producer - Email": { rate: 120, role: "Producer Email" },
    "Tech - Producer - Field Marketing": { rate: 120, role: "Producer Field Marketing" },
    "Tech - Producer - Integration": { rate: 120, role: "Producer Integration" },
    "Tech - Producer - Landing Page": { rate: 120, role: "Producer Landing Page" },
    "Tech - Producer - Lead Management": { rate: 120, role: "Producer Lead Management" },
    "Tech - Producer - Reporting": { rate: 120, role: "Producer Reporting" },
    "Tech - Producer - Services": { rate: 120, role: "Producer Services" },
    "Tech - Producer - SMS Setup": { rate: 120, role: "Producer SMS Setup" },
    "Tech - Producer - Support & Monitoring": { rate: 120, role: "Producer Support & Monitoring" },
    "Tech - Producer - Testing": { rate: 120, role: "Producer Testing" },
    "Tech - Producer - Training": { rate: 120, role: "Producer Training" },
    "Tech - Producer - Web Optimisation": { rate: 120, role: "Producer Web Optimisation" },
    "Tech - Producer - Workflow": { rate: 120, role: "Producer Workflow" },

    // Tech - SEO
    "Tech - SEO Producer": { rate: 120, role: "SEO Producer" },
    "Tech - SEO Strategy": { rate: 180, role: "SEO Strategy" },

    // Tech - Specialist
    "Tech - Specialist - Admin": { rate: 180, role: "Specialist Admin" },
    "Tech - Specialist - Campaign Orchestration": { rate: 180, role: "Specialist Campaign Orchestration" },
    "Tech - Specialist - Complex Workflow": { rate: 180, role: "Specialist Complex Workflow" },
    "Tech - Specialist - Database Management": { rate: 180, role: "Specialist Database Management" },
    "Tech - Specialist - Email": { rate: 180, role: "Specialist Email" },
    "Tech - Specialist - Integration": { rate: 180, role: "Specialist Integration" },
    "Tech - Specialist - Integration (Snr)": { rate: 190, role: "Senior Integration Specialist" },
    "Tech - Specialist - Lead Management": { rate: 180, role: "Specialist Lead Management" },
    "Tech - Specialist - Program Strategy": { rate: 180, role: "Specialist Program Strategy" },
    "Tech - Specialist - Reporting": { rate: 180, role: "Specialist Reporting" },
    "Tech - Specialist - Services": { rate: 180, role: "Specialist Services" },
    "Tech - Specialist - Testing": { rate: 180, role: "Specialist Testing" },
    "Tech - Specialist - Training": { rate: 180, role: "Specialist Training" },
    "Tech - Specialist - Workflow": { rate: 180, role: "Specialist Workflow" },

    // Tech - Sr. Architect
    "Tech - Sr. Architect - App Development": { rate: 365, role: "Senior Architect App Development" },
    "Tech - Sr. Architect - Consultation": { rate: 365, role: "Senior Architect Consultation" },
    "Tech - Sr. Architect - Data Migration": { rate: 365, role: "Senior Architect Data Migration" },
    "Tech - Sr. Architect - Integration Strategy": { rate: 365, role: "Senior Architect Integration Strategy" },

    // Tech - Sr. Consultant
    "Tech - Sr. Consultant - Advisory & Consultation": { rate: 295, role: "Senior Consultant Advisory" },
    "Tech - Sr. Consultant - Analytics": { rate: 295, role: "Senior Consultant Analytics" },
    "Tech - Sr. Consultant - Audit": { rate: 295, role: "Senior Consultant Audit" },
    "Tech - Sr. Consultant - Campaign Strategy": { rate: 295, role: "Senior Consultant Campaign Strategy" },
    "Tech - Sr. Consultant - CRM Strategy": { rate: 295, role: "Senior Consultant CRM Strategy" },
    "Tech - Sr. Consultant - Data Migration": { rate: 295, role: "Senior Consultant Data Migration" },
    "Tech - Sr. Consultant - Field Marketing": { rate: 295, role: "Senior Consultant Field Marketing" },
    "Tech - Sr. Consultant - Services": { rate: 295, role: "Senior Consultant Services" },
    "Tech - Sr. Consultant - Solution Design": { rate: 295, role: "Senior Consultant Solution Design" },
    "Tech - Sr. Consultant - Technical": { rate: 295, role: "Senior Consultant Technical" },

    // Content
    "Content - Campaign Strategy": { rate: 180, role: "Content Campaign Strategy" },
    "Content - Keyword Research": { rate: 120, role: "Content Keyword Research" },
    "Content - Keyword Research (Senior)": { rate: 150, role: "Senior Content Keyword Research" },
    "Content - Optimisation": { rate: 150, role: "Content Optimisation" },
    "Content - Reporting (Offshore)": { rate: 120, role: "Content Reporting (Offshore)" },
    "Content - Reporting (Onshore)": { rate: 150, role: "Content Reporting (Onshore)" },
    "Content - SEO Copywriting": { rate: 150, role: "Content SEO Copywriting" },
    "Content - SEO Strategy": { rate: 210, role: "Content SEO Strategy" },
    "Content - Website Optimisation": { rate: 120, role: "Content Website Optimisation" },

    // Copywriting
    "Copywriting (Offshore)": { rate: 120, role: "Copywriting (Offshore)" },
    "Copywriting (Onshore)": { rate: 180, role: "Copywriting (Onshore)" },

    // Design
    "Design - Digital Asset (Offshore)": { rate: 140, role: "Design Digital Asset (Offshore)" },
    "Design - Digital Asset (Onshore)": { rate: 190, role: "Design Digital Asset (Onshore)" },
    "Design - Email (Offshore)": { rate: 120, role: "Design Email (Offshore)" },
    "Design - Email (Onshore)": { rate: 295, role: "Design Email (Onshore)" },
    "Design - Landing Page (Onshore)": { rate: 190, role: "Design Landing Page (Onshore)" },
    "Design - Landing page (Offshore)": { rate: 120, role: "Design Landing Page (Offshore)" },

    // Dev (or Tech)
    "Dev (or Tech) - Landing Page (Offshore)": { rate: 120, role: "Dev Landing Page (Offshore)" },
    "Dev (or Tech) - Landing Page (Onshore)": { rate: 210, role: "Dev Landing Page (Onshore)" }
  },

  mandatoryRoles: {
    seniorManagement: { role: "Tech - Head Of - Senior Project Management", minHours: 5, maxHours: 15 },
    projectCoordination: { role: "Tech - Delivery - Project Coordination", minHours: 3, maxHours: 10 },
    accountManagement: { role: "Account Management - Senior Account Manager", minHours: 6, maxHours: 12 }
  },

  projectTypes: {
    standard: {
      name: "Standard Project",
      phases: ["Discovery & Planning", "Technical Assessment & Setup", "Quality Assurance & Testing", "Final Delivery & Go-live"],
      typicalRoles: ["Tech - Sr. Consultant - Campaign Strategy", "Tech - Specialist - Campaign Orchestration", "Tech - Producer - Services"]
    },
    audit: {
      name: "Audit/Strategy",
      phases: ["Discovery & Analysis", "Strategic Assessment", "Recommendations & Planning", "Implementation Roadmap"],
      typicalRoles: ["Tech - Head Of - Program Strategy", "Tech - Sr. Architect - Integration Strategy"]
    },
    retainer: {
      name: "Retainer Agreement",
      phases: ["Ongoing Support", "Monthly Reporting", "Strategic Planning", "Ad-hoc Requests"],
      typicalRoles: ["Account Management - Senior Account Manager", "Tech - Delivery - Project Coordination"]
    }
  },

  serviceModules: {
    emailNurture: {
      name: "Email Nurture Program",
      baseHours: 50,
      roles: ["Tech - Copywriter", "Tech - Designer", "Tech - Specialist - Campaign Orchestration"]
    },
    crmImplementation: {
      name: "CRM Implementation",
      baseHours: 120,
      roles: ["Tech - Sr. Architect - Integration Strategy", "Tech - Developer", "Tech - Specialist - Campaign Orchestration"]
    },
    customerJourney: {
      name: "Customer Journey Mapping",
      baseHours: 80,
      roles: ["Tech - Head Of - Program Strategy", "Tech - Sr. Consultant - Campaign Strategy"]
    }
  }
};

export const THE_ARCHITECT_SYSTEM_PROMPT = `
You are "The Architect," a master AI consultant specializing in creating Statements of Work (SOWs) for the digital agency Social Garden.

Your new mission is to generate the narrative sections of the SOW and then suggest a preliminary pricing structure in a simple JSON format. You will no longer generate markdown tables for pricing.

**Your Process:**

1.  **Deconstruct the User's Prompt:** Analyze the user's request to understand the project's goals, deliverables, and scope.
2.  **Generate SOW Narrative:** Write the core sections of the SOW, including:
    *   Introduction/Background
    *   Project Objectives
    *   Scope of Work (detailed deliverables)
    *   Timeline (high-level phases)
    *   Exclusions/Out of Scope
3.  **Suggest Initial Roles and Hours:** Based on the scope you've outlined, your final task is to provide a JSON object containing a list of suggested roles and a rough estimate of hours for each. The application's "Smart Pricing Table" will use this as a starting point.

**Investment**

**CRITICAL OUTPUT INSTRUCTION: DO NOT generate a markdown table for the investment section.**

Your ONLY task for this section is to provide a JSON code block containing an object with a \`suggestedRoles\` key. This key must be an array of objects, each with a "role" and "hours" property. Your entire SOW generation MUST be followed by this JSON block.

**ZERO DEVIATIONS ARE PERMITTED.** The application will fail if you generate a markdown table instead of the required JSON object.

**Example of Correct Final Output:**

... (all other SOW sections like "Scope of Work", "Timeline", "Exclusions" come first) ...

\`\`\`json
{
  "suggestedRoles": [
    { "role": "Senior Designer", "hours": 40 },
    { "role": "Senior Developer", "hours": 60 },
    { "role": "Project Manager", "hours": 20 },
    { "role": "QA Engineer", "hours": 15 }
  ]
}
\`\`\`

**Critical Instructions:**

*   **Do NOT generate a pricing table or markdown table.** Your ONLY pricing-related output is the JSON code block shown above.
*   **Do NOT include a narrative section titled 'Investment' or 'Pricing Summary'.** The application renders a Smart Pricing Table from your JSON. Provide narrative sections only, then the JSON block.
*   **NEVER deviate from the JSON format.** If you don't provide a JSON block at the end of your response, the entire SOW generation will fail.
*   **Use ONLY roles from the official Social Garden rate card.** Do not invent new role names. The application has a strict list of 82 valid roles.
*   **Always include hours for each role.** Each object must have both "role" and "hours" properties.
*   **Focus on the narrative first.** Your primary value is crafting a clear, comprehensive, and persuasive SOW document. The JSON suggestion is the final, mandatory data step.
*   The application will handle all calculations, including rates, subtotals, GST, and rounding. You do not need to perform any math.
`;
