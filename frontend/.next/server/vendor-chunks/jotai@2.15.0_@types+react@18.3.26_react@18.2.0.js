"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/jotai@2.15.0_@types+react@18.3.26_react@18.2.0";
exports.ids = ["vendor-chunks/jotai@2.15.0_@types+react@18.3.26_react@18.2.0"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/jotai@2.15.0_@types+react@18.3.26_react@18.2.0/node_modules/jotai/esm/react.mjs":
/*!************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/jotai@2.15.0_@types+react@18.3.26_react@18.2.0/node_modules/jotai/esm/react.mjs ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Provider: () => (/* binding */ Provider),\n/* harmony export */   useAtom: () => (/* binding */ useAtom),\n/* harmony export */   useAtomValue: () => (/* binding */ useAtomValue),\n/* harmony export */   useSetAtom: () => (/* binding */ useSetAtom),\n/* harmony export */   useStore: () => (/* binding */ useStore)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/.pnpm/next@15.1.4_@opentelemetry+api@1.9.0_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var jotai_vanilla__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jotai/vanilla */ \"(ssr)/./node_modules/.pnpm/jotai@2.15.0_@types+react@18.3.26_react@18.2.0/node_modules/jotai/esm/vanilla.mjs\");\n/* harmony import */ var jotai_vanilla_internals__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jotai/vanilla/internals */ \"(ssr)/./node_modules/.pnpm/jotai@2.15.0_@types+react@18.3.26_react@18.2.0/node_modules/jotai/esm/vanilla/internals.mjs\");\n/* __next_internal_client_entry_do_not_use__ Provider,useAtom,useAtomValue,useSetAtom,useStore auto */ \n\n\nconst StoreContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(void 0);\nfunction useStore(options) {\n    const store = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(StoreContext);\n    return (options == null ? void 0 : options.store) || store || (0,jotai_vanilla__WEBPACK_IMPORTED_MODULE_1__.getDefaultStore)();\n}\nfunction Provider({ children, store }) {\n    const storeRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(void 0);\n    if (!store && !storeRef.current) {\n        storeRef.current = (0,jotai_vanilla__WEBPACK_IMPORTED_MODULE_1__.createStore)();\n    }\n    return /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(StoreContext.Provider, {\n        value: store || storeRef.current\n    }, children);\n}\nconst isPromiseLike = (x)=>typeof (x == null ? void 0 : x.then) === \"function\";\nconst attachPromiseStatus = (promise)=>{\n    if (!promise.status) {\n        promise.status = \"pending\";\n        promise.then((v)=>{\n            promise.status = \"fulfilled\";\n            promise.value = v;\n        }, (e)=>{\n            promise.status = \"rejected\";\n            promise.reason = e;\n        });\n    }\n};\nconst use = react__WEBPACK_IMPORTED_MODULE_0__.use || // A shim for older React versions\n((promise)=>{\n    if (promise.status === \"pending\") {\n        throw promise;\n    } else if (promise.status === \"fulfilled\") {\n        return promise.value;\n    } else if (promise.status === \"rejected\") {\n        throw promise.reason;\n    } else {\n        attachPromiseStatus(promise);\n        throw promise;\n    }\n});\nconst continuablePromiseMap = /* @__PURE__ */ new WeakMap();\nconst createContinuablePromise = (promise, getValue)=>{\n    let continuablePromise = continuablePromiseMap.get(promise);\n    if (!continuablePromise) {\n        continuablePromise = new Promise((resolve, reject)=>{\n            let curr = promise;\n            const onFulfilled = (me)=>(v)=>{\n                    if (curr === me) {\n                        resolve(v);\n                    }\n                };\n            const onRejected = (me)=>(e)=>{\n                    if (curr === me) {\n                        reject(e);\n                    }\n                };\n            const onAbort = ()=>{\n                try {\n                    const nextValue = getValue();\n                    if (isPromiseLike(nextValue)) {\n                        continuablePromiseMap.set(nextValue, continuablePromise);\n                        curr = nextValue;\n                        nextValue.then(onFulfilled(nextValue), onRejected(nextValue));\n                        (0,jotai_vanilla_internals__WEBPACK_IMPORTED_MODULE_2__.INTERNAL_registerAbortHandler)(nextValue, onAbort);\n                    } else {\n                        resolve(nextValue);\n                    }\n                } catch (e) {\n                    reject(e);\n                }\n            };\n            promise.then(onFulfilled(promise), onRejected(promise));\n            (0,jotai_vanilla_internals__WEBPACK_IMPORTED_MODULE_2__.INTERNAL_registerAbortHandler)(promise, onAbort);\n        });\n        continuablePromiseMap.set(promise, continuablePromise);\n    }\n    return continuablePromise;\n};\nfunction useAtomValue(atom, options) {\n    const { delay, unstable_promiseStatus: promiseStatus = !react__WEBPACK_IMPORTED_MODULE_0__.use } = options || {};\n    const store = useStore(options);\n    const [[valueFromReducer, storeFromReducer, atomFromReducer], rerender] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useReducer)({\n        \"useAtomValue.useReducer\": (prev)=>{\n            const nextValue = store.get(atom);\n            if (Object.is(prev[0], nextValue) && prev[1] === store && prev[2] === atom) {\n                return prev;\n            }\n            return [\n                nextValue,\n                store,\n                atom\n            ];\n        }\n    }[\"useAtomValue.useReducer\"], void 0, {\n        \"useAtomValue.useReducer\": ()=>[\n                store.get(atom),\n                store,\n                atom\n            ]\n    }[\"useAtomValue.useReducer\"]);\n    let value = valueFromReducer;\n    if (storeFromReducer !== store || atomFromReducer !== atom) {\n        rerender();\n        value = store.get(atom);\n    }\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)({\n        \"useAtomValue.useEffect\": ()=>{\n            const unsub = store.sub(atom, {\n                \"useAtomValue.useEffect.unsub\": ()=>{\n                    if (promiseStatus) {\n                        try {\n                            const value2 = store.get(atom);\n                            if (isPromiseLike(value2)) {\n                                attachPromiseStatus(createContinuablePromise(value2, {\n                                    \"useAtomValue.useEffect.unsub\": ()=>store.get(atom)\n                                }[\"useAtomValue.useEffect.unsub\"]));\n                            }\n                        } catch (e) {}\n                    }\n                    if (typeof delay === \"number\") {\n                        setTimeout(rerender, delay);\n                        return;\n                    }\n                    rerender();\n                }\n            }[\"useAtomValue.useEffect.unsub\"]);\n            rerender();\n            return unsub;\n        }\n    }[\"useAtomValue.useEffect\"], [\n        store,\n        atom,\n        delay,\n        promiseStatus\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useDebugValue)(value);\n    if (isPromiseLike(value)) {\n        const promise = createContinuablePromise(value, ()=>store.get(atom));\n        if (promiseStatus) {\n            attachPromiseStatus(promise);\n        }\n        return use(promise);\n    }\n    return value;\n}\nfunction useSetAtom(atom, options) {\n    const store = useStore(options);\n    const setAtom = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)({\n        \"useSetAtom.useCallback[setAtom]\": (...args)=>{\n            if (( false ? 0 : void 0) !== \"production\" && !(\"write\" in atom)) {\n                throw new Error(\"not writable atom\");\n            }\n            return store.set(atom, ...args);\n        }\n    }[\"useSetAtom.useCallback[setAtom]\"], [\n        store,\n        atom\n    ]);\n    return setAtom;\n}\nfunction useAtom(atom, options) {\n    return [\n        useAtomValue(atom, options),\n        // We do wrong type assertion here, which results in throwing an error.\n        useSetAtom(atom, options)\n    ];\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vam90YWlAMi4xNS4wX0B0eXBlcytyZWFjdEAxOC4zLjI2X3JlYWN0QDE4LjIuMC9ub2RlX21vZHVsZXMvam90YWkvZXNtL3JlYWN0Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozt1R0FDbUk7QUFDdEU7QUFDVztBQUV4RSxNQUFNWSw2QkFBZVgsb0RBQWFBLENBQ2hDLEtBQUs7QUFFUCxTQUFTWSxTQUFTQyxPQUFPO0lBQ3ZCLE1BQU1DLFFBQVFiLGlEQUFVQSxDQUFDVTtJQUN6QixPQUFPLENBQUNFLFdBQVcsT0FBTyxLQUFLLElBQUlBLFFBQVFDLEtBQUssS0FBS0EsU0FBU04sOERBQWVBO0FBQy9FO0FBQ0EsU0FBU08sU0FBUyxFQUNoQkMsUUFBUSxFQUNSRixLQUFLLEVBQ047SUFDQyxNQUFNRyxXQUFXZiw2Q0FBTUEsQ0FBQyxLQUFLO0lBQzdCLElBQUksQ0FBQ1ksU0FBUyxDQUFDRyxTQUFTQyxPQUFPLEVBQUU7UUFDL0JELFNBQVNDLE9BQU8sR0FBR1QsMERBQVdBO0lBQ2hDO0lBQ0EscUJBQU9OLG9EQUFhQSxDQUNsQlEsYUFBYUksUUFBUSxFQUNyQjtRQUNFSSxPQUFPTCxTQUFTRyxTQUFTQyxPQUFPO0lBQ2xDLEdBQ0FGO0FBRUo7QUFFQSxNQUFNSSxnQkFBZ0IsQ0FBQ0MsSUFBTSxPQUFRQSxDQUFBQSxLQUFLLE9BQU8sS0FBSyxJQUFJQSxFQUFFQyxJQUFJLE1BQU07QUFDdEUsTUFBTUMsc0JBQXNCLENBQUNDO0lBQzNCLElBQUksQ0FBQ0EsUUFBUUMsTUFBTSxFQUFFO1FBQ25CRCxRQUFRQyxNQUFNLEdBQUc7UUFDakJELFFBQVFGLElBQUksQ0FDVixDQUFDSTtZQUNDRixRQUFRQyxNQUFNLEdBQUc7WUFDakJELFFBQVFMLEtBQUssR0FBR087UUFDbEIsR0FDQSxDQUFDQztZQUNDSCxRQUFRQyxNQUFNLEdBQUc7WUFDakJELFFBQVFJLE1BQU0sR0FBR0Q7UUFDbkI7SUFFSjtBQUNGO0FBQ0EsTUFBTUUsTUFBTTlCLHNDQUFTLElBQUksa0NBQWtDO0FBQzFELEVBQUN5QjtJQUNBLElBQUlBLFFBQVFDLE1BQU0sS0FBSyxXQUFXO1FBQ2hDLE1BQU1EO0lBQ1IsT0FBTyxJQUFJQSxRQUFRQyxNQUFNLEtBQUssYUFBYTtRQUN6QyxPQUFPRCxRQUFRTCxLQUFLO0lBQ3RCLE9BQU8sSUFBSUssUUFBUUMsTUFBTSxLQUFLLFlBQVk7UUFDeEMsTUFBTUQsUUFBUUksTUFBTTtJQUN0QixPQUFPO1FBQ0xMLG9CQUFvQkM7UUFDcEIsTUFBTUE7SUFDUjtBQUNGO0FBQ0EsTUFBTU0sd0JBQXdCLGFBQWEsR0FBRyxJQUFJQztBQUNsRCxNQUFNQywyQkFBMkIsQ0FBQ1IsU0FBU1M7SUFDekMsSUFBSUMscUJBQXFCSixzQkFBc0JLLEdBQUcsQ0FBQ1g7SUFDbkQsSUFBSSxDQUFDVSxvQkFBb0I7UUFDdkJBLHFCQUFxQixJQUFJRSxRQUFRLENBQUNDLFNBQVNDO1lBQ3pDLElBQUlDLE9BQU9mO1lBQ1gsTUFBTWdCLGNBQWMsQ0FBQ0MsS0FBTyxDQUFDZjtvQkFDM0IsSUFBSWEsU0FBU0UsSUFBSTt3QkFDZkosUUFBUVg7b0JBQ1Y7Z0JBQ0Y7WUFDQSxNQUFNZ0IsYUFBYSxDQUFDRCxLQUFPLENBQUNkO29CQUMxQixJQUFJWSxTQUFTRSxJQUFJO3dCQUNmSCxPQUFPWDtvQkFDVDtnQkFDRjtZQUNBLE1BQU1nQixVQUFVO2dCQUNkLElBQUk7b0JBQ0YsTUFBTUMsWUFBWVg7b0JBQ2xCLElBQUliLGNBQWN3QixZQUFZO3dCQUM1QmQsc0JBQXNCZSxHQUFHLENBQUNELFdBQVdWO3dCQUNyQ0ssT0FBT0s7d0JBQ1BBLFVBQVV0QixJQUFJLENBQUNrQixZQUFZSSxZQUFZRixXQUFXRTt3QkFDbERsQyxzRkFBNkJBLENBQUNrQyxXQUFXRDtvQkFDM0MsT0FBTzt3QkFDTE4sUUFBUU87b0JBQ1Y7Z0JBQ0YsRUFBRSxPQUFPakIsR0FBRztvQkFDVlcsT0FBT1g7Z0JBQ1Q7WUFDRjtZQUNBSCxRQUFRRixJQUFJLENBQUNrQixZQUFZaEIsVUFBVWtCLFdBQVdsQjtZQUM5Q2Qsc0ZBQTZCQSxDQUFDYyxTQUFTbUI7UUFDekM7UUFDQWIsc0JBQXNCZSxHQUFHLENBQUNyQixTQUFTVTtJQUNyQztJQUNBLE9BQU9BO0FBQ1Q7QUFDQSxTQUFTWSxhQUFhQyxJQUFJLEVBQUVsQyxPQUFPO0lBQ2pDLE1BQU0sRUFBRW1DLEtBQUssRUFBRUMsd0JBQXdCQyxnQkFBZ0IsQ0FBQ25ELHNDQUFTLEVBQUUsR0FBR2MsV0FBVyxDQUFDO0lBQ2xGLE1BQU1DLFFBQVFGLFNBQVNDO0lBQ3ZCLE1BQU0sQ0FBQyxDQUFDc0Msa0JBQWtCQyxrQkFBa0JDLGdCQUFnQixFQUFFQyxTQUFTLEdBQUdsRCxpREFBVUE7bUNBQ2xGLENBQUNtRDtZQUNDLE1BQU1YLFlBQVk5QixNQUFNcUIsR0FBRyxDQUFDWTtZQUM1QixJQUFJUyxPQUFPQyxFQUFFLENBQUNGLElBQUksQ0FBQyxFQUFFLEVBQUVYLGNBQWNXLElBQUksQ0FBQyxFQUFFLEtBQUt6QyxTQUFTeUMsSUFBSSxDQUFDLEVBQUUsS0FBS1IsTUFBTTtnQkFDMUUsT0FBT1E7WUFDVDtZQUNBLE9BQU87Z0JBQUNYO2dCQUFXOUI7Z0JBQU9pQzthQUFLO1FBQ2pDO2tDQUNBLEtBQUs7bUNBQ0wsSUFBTTtnQkFBQ2pDLE1BQU1xQixHQUFHLENBQUNZO2dCQUFPakM7Z0JBQU9pQzthQUFLOztJQUV0QyxJQUFJNUIsUUFBUWdDO0lBQ1osSUFBSUMscUJBQXFCdEMsU0FBU3VDLG9CQUFvQk4sTUFBTTtRQUMxRE87UUFDQW5DLFFBQVFMLE1BQU1xQixHQUFHLENBQUNZO0lBQ3BCO0lBQ0ExQyxnREFBU0E7a0NBQUM7WUFDUixNQUFNcUQsUUFBUTVDLE1BQU02QyxHQUFHLENBQUNaO2dEQUFNO29CQUM1QixJQUFJRyxlQUFlO3dCQUNqQixJQUFJOzRCQUNGLE1BQU1VLFNBQVM5QyxNQUFNcUIsR0FBRyxDQUFDWTs0QkFDekIsSUFBSTNCLGNBQWN3QyxTQUFTO2dDQUN6QnJDLG9CQUNFUyx5QkFBeUI0QjtvRUFBUSxJQUFNOUMsTUFBTXFCLEdBQUcsQ0FBQ1k7OzRCQUVyRDt3QkFDRixFQUFFLE9BQU9wQixHQUFHLENBQ1o7b0JBQ0Y7b0JBQ0EsSUFBSSxPQUFPcUIsVUFBVSxVQUFVO3dCQUM3QmEsV0FBV1AsVUFBVU47d0JBQ3JCO29CQUNGO29CQUNBTTtnQkFDRjs7WUFDQUE7WUFDQSxPQUFPSTtRQUNUO2lDQUFHO1FBQUM1QztRQUFPaUM7UUFBTUM7UUFBT0U7S0FBYztJQUN0QzVDLG9EQUFhQSxDQUFDYTtJQUNkLElBQUlDLGNBQWNELFFBQVE7UUFDeEIsTUFBTUssVUFBVVEseUJBQXlCYixPQUFPLElBQU1MLE1BQU1xQixHQUFHLENBQUNZO1FBQ2hFLElBQUlHLGVBQWU7WUFDakIzQixvQkFBb0JDO1FBQ3RCO1FBQ0EsT0FBT0ssSUFBSUw7SUFDYjtJQUNBLE9BQU9MO0FBQ1Q7QUFFQSxTQUFTMkMsV0FBV2YsSUFBSSxFQUFFbEMsT0FBTztJQUMvQixNQUFNQyxRQUFRRixTQUFTQztJQUN2QixNQUFNa0QsVUFBVXhELGtEQUFXQTsyQ0FDekIsQ0FBQyxHQUFHeUQ7WUFDRixJQUFJLENBQUMsTUFBZSxHQUFHLENBQW9CLEdBQUcsS0FBSyxPQUFPLGdCQUFnQixDQUFFLFlBQVdqQixJQUFHLEdBQUk7Z0JBQzVGLE1BQU0sSUFBSW9CLE1BQU07WUFDbEI7WUFDQSxPQUFPckQsTUFBTStCLEdBQUcsQ0FBQ0UsU0FBU2lCO1FBQzVCOzBDQUNBO1FBQUNsRDtRQUFPaUM7S0FBSztJQUVmLE9BQU9nQjtBQUNUO0FBRUEsU0FBU0ssUUFBUXJCLElBQUksRUFBRWxDLE9BQU87SUFDNUIsT0FBTztRQUNMaUMsYUFBYUMsTUFBTWxDO1FBQ25CLHVFQUF1RTtRQUN2RWlELFdBQVdmLE1BQU1sQztLQUNsQjtBQUNIO0FBRWlFIiwic291cmNlcyI6WyIvcm9vdC90aGUxMS9mcm9udGVuZC9ub2RlX21vZHVsZXMvLnBucG0vam90YWlAMi4xNS4wX0B0eXBlcytyZWFjdEAxOC4zLjI2X3JlYWN0QDE4LjIuMC9ub2RlX21vZHVsZXMvam90YWkvZXNtL3JlYWN0Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5pbXBvcnQgUmVhY3QsIHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlUmVmLCBjcmVhdGVFbGVtZW50LCB1c2VSZWR1Y2VyLCB1c2VFZmZlY3QsIHVzZURlYnVnVmFsdWUsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgZ2V0RGVmYXVsdFN0b3JlLCBjcmVhdGVTdG9yZSB9IGZyb20gJ2pvdGFpL3ZhbmlsbGEnO1xuaW1wb3J0IHsgSU5URVJOQUxfcmVnaXN0ZXJBYm9ydEhhbmRsZXIgfSBmcm9tICdqb3RhaS92YW5pbGxhL2ludGVybmFscyc7XG5cbmNvbnN0IFN0b3JlQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoXG4gIHZvaWQgMFxuKTtcbmZ1bmN0aW9uIHVzZVN0b3JlKG9wdGlvbnMpIHtcbiAgY29uc3Qgc3RvcmUgPSB1c2VDb250ZXh0KFN0b3JlQ29udGV4dCk7XG4gIHJldHVybiAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5zdG9yZSkgfHwgc3RvcmUgfHwgZ2V0RGVmYXVsdFN0b3JlKCk7XG59XG5mdW5jdGlvbiBQcm92aWRlcih7XG4gIGNoaWxkcmVuLFxuICBzdG9yZVxufSkge1xuICBjb25zdCBzdG9yZVJlZiA9IHVzZVJlZih2b2lkIDApO1xuICBpZiAoIXN0b3JlICYmICFzdG9yZVJlZi5jdXJyZW50KSB7XG4gICAgc3RvcmVSZWYuY3VycmVudCA9IGNyZWF0ZVN0b3JlKCk7XG4gIH1cbiAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoXG4gICAgU3RvcmVDb250ZXh0LlByb3ZpZGVyLFxuICAgIHtcbiAgICAgIHZhbHVlOiBzdG9yZSB8fCBzdG9yZVJlZi5jdXJyZW50XG4gICAgfSxcbiAgICBjaGlsZHJlblxuICApO1xufVxuXG5jb25zdCBpc1Byb21pc2VMaWtlID0gKHgpID0+IHR5cGVvZiAoeCA9PSBudWxsID8gdm9pZCAwIDogeC50aGVuKSA9PT0gXCJmdW5jdGlvblwiO1xuY29uc3QgYXR0YWNoUHJvbWlzZVN0YXR1cyA9IChwcm9taXNlKSA9PiB7XG4gIGlmICghcHJvbWlzZS5zdGF0dXMpIHtcbiAgICBwcm9taXNlLnN0YXR1cyA9IFwicGVuZGluZ1wiO1xuICAgIHByb21pc2UudGhlbihcbiAgICAgICh2KSA9PiB7XG4gICAgICAgIHByb21pc2Uuc3RhdHVzID0gXCJmdWxmaWxsZWRcIjtcbiAgICAgICAgcHJvbWlzZS52YWx1ZSA9IHY7XG4gICAgICB9LFxuICAgICAgKGUpID0+IHtcbiAgICAgICAgcHJvbWlzZS5zdGF0dXMgPSBcInJlamVjdGVkXCI7XG4gICAgICAgIHByb21pc2UucmVhc29uID0gZTtcbiAgICAgIH1cbiAgICApO1xuICB9XG59O1xuY29uc3QgdXNlID0gUmVhY3QudXNlIHx8IC8vIEEgc2hpbSBmb3Igb2xkZXIgUmVhY3QgdmVyc2lvbnNcbigocHJvbWlzZSkgPT4ge1xuICBpZiAocHJvbWlzZS5zdGF0dXMgPT09IFwicGVuZGluZ1wiKSB7XG4gICAgdGhyb3cgcHJvbWlzZTtcbiAgfSBlbHNlIGlmIChwcm9taXNlLnN0YXR1cyA9PT0gXCJmdWxmaWxsZWRcIikge1xuICAgIHJldHVybiBwcm9taXNlLnZhbHVlO1xuICB9IGVsc2UgaWYgKHByb21pc2Uuc3RhdHVzID09PSBcInJlamVjdGVkXCIpIHtcbiAgICB0aHJvdyBwcm9taXNlLnJlYXNvbjtcbiAgfSBlbHNlIHtcbiAgICBhdHRhY2hQcm9taXNlU3RhdHVzKHByb21pc2UpO1xuICAgIHRocm93IHByb21pc2U7XG4gIH1cbn0pO1xuY29uc3QgY29udGludWFibGVQcm9taXNlTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5jb25zdCBjcmVhdGVDb250aW51YWJsZVByb21pc2UgPSAocHJvbWlzZSwgZ2V0VmFsdWUpID0+IHtcbiAgbGV0IGNvbnRpbnVhYmxlUHJvbWlzZSA9IGNvbnRpbnVhYmxlUHJvbWlzZU1hcC5nZXQocHJvbWlzZSk7XG4gIGlmICghY29udGludWFibGVQcm9taXNlKSB7XG4gICAgY29udGludWFibGVQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IGN1cnIgPSBwcm9taXNlO1xuICAgICAgY29uc3Qgb25GdWxmaWxsZWQgPSAobWUpID0+ICh2KSA9PiB7XG4gICAgICAgIGlmIChjdXJyID09PSBtZSkge1xuICAgICAgICAgIHJlc29sdmUodik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBjb25zdCBvblJlamVjdGVkID0gKG1lKSA9PiAoZSkgPT4ge1xuICAgICAgICBpZiAoY3VyciA9PT0gbWUpIHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBjb25zdCBvbkFib3J0ID0gKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IG5leHRWYWx1ZSA9IGdldFZhbHVlKCk7XG4gICAgICAgICAgaWYgKGlzUHJvbWlzZUxpa2UobmV4dFZhbHVlKSkge1xuICAgICAgICAgICAgY29udGludWFibGVQcm9taXNlTWFwLnNldChuZXh0VmFsdWUsIGNvbnRpbnVhYmxlUHJvbWlzZSk7XG4gICAgICAgICAgICBjdXJyID0gbmV4dFZhbHVlO1xuICAgICAgICAgICAgbmV4dFZhbHVlLnRoZW4ob25GdWxmaWxsZWQobmV4dFZhbHVlKSwgb25SZWplY3RlZChuZXh0VmFsdWUpKTtcbiAgICAgICAgICAgIElOVEVSTkFMX3JlZ2lzdGVyQWJvcnRIYW5kbGVyKG5leHRWYWx1ZSwgb25BYm9ydCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdmUobmV4dFZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBwcm9taXNlLnRoZW4ob25GdWxmaWxsZWQocHJvbWlzZSksIG9uUmVqZWN0ZWQocHJvbWlzZSkpO1xuICAgICAgSU5URVJOQUxfcmVnaXN0ZXJBYm9ydEhhbmRsZXIocHJvbWlzZSwgb25BYm9ydCk7XG4gICAgfSk7XG4gICAgY29udGludWFibGVQcm9taXNlTWFwLnNldChwcm9taXNlLCBjb250aW51YWJsZVByb21pc2UpO1xuICB9XG4gIHJldHVybiBjb250aW51YWJsZVByb21pc2U7XG59O1xuZnVuY3Rpb24gdXNlQXRvbVZhbHVlKGF0b20sIG9wdGlvbnMpIHtcbiAgY29uc3QgeyBkZWxheSwgdW5zdGFibGVfcHJvbWlzZVN0YXR1czogcHJvbWlzZVN0YXR1cyA9ICFSZWFjdC51c2UgfSA9IG9wdGlvbnMgfHwge307XG4gIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUob3B0aW9ucyk7XG4gIGNvbnN0IFtbdmFsdWVGcm9tUmVkdWNlciwgc3RvcmVGcm9tUmVkdWNlciwgYXRvbUZyb21SZWR1Y2VyXSwgcmVyZW5kZXJdID0gdXNlUmVkdWNlcihcbiAgICAocHJldikgPT4ge1xuICAgICAgY29uc3QgbmV4dFZhbHVlID0gc3RvcmUuZ2V0KGF0b20pO1xuICAgICAgaWYgKE9iamVjdC5pcyhwcmV2WzBdLCBuZXh0VmFsdWUpICYmIHByZXZbMV0gPT09IHN0b3JlICYmIHByZXZbMl0gPT09IGF0b20pIHtcbiAgICAgICAgcmV0dXJuIHByZXY7XG4gICAgICB9XG4gICAgICByZXR1cm4gW25leHRWYWx1ZSwgc3RvcmUsIGF0b21dO1xuICAgIH0sXG4gICAgdm9pZCAwLFxuICAgICgpID0+IFtzdG9yZS5nZXQoYXRvbSksIHN0b3JlLCBhdG9tXVxuICApO1xuICBsZXQgdmFsdWUgPSB2YWx1ZUZyb21SZWR1Y2VyO1xuICBpZiAoc3RvcmVGcm9tUmVkdWNlciAhPT0gc3RvcmUgfHwgYXRvbUZyb21SZWR1Y2VyICE9PSBhdG9tKSB7XG4gICAgcmVyZW5kZXIoKTtcbiAgICB2YWx1ZSA9IHN0b3JlLmdldChhdG9tKTtcbiAgfVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHVuc3ViID0gc3RvcmUuc3ViKGF0b20sICgpID0+IHtcbiAgICAgIGlmIChwcm9taXNlU3RhdHVzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgdmFsdWUyID0gc3RvcmUuZ2V0KGF0b20pO1xuICAgICAgICAgIGlmIChpc1Byb21pc2VMaWtlKHZhbHVlMikpIHtcbiAgICAgICAgICAgIGF0dGFjaFByb21pc2VTdGF0dXMoXG4gICAgICAgICAgICAgIGNyZWF0ZUNvbnRpbnVhYmxlUHJvbWlzZSh2YWx1ZTIsICgpID0+IHN0b3JlLmdldChhdG9tKSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgZGVsYXkgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgc2V0VGltZW91dChyZXJlbmRlciwgZGVsYXkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICByZXJlbmRlcigpO1xuICAgIH0pO1xuICAgIHJlcmVuZGVyKCk7XG4gICAgcmV0dXJuIHVuc3ViO1xuICB9LCBbc3RvcmUsIGF0b20sIGRlbGF5LCBwcm9taXNlU3RhdHVzXSk7XG4gIHVzZURlYnVnVmFsdWUodmFsdWUpO1xuICBpZiAoaXNQcm9taXNlTGlrZSh2YWx1ZSkpIHtcbiAgICBjb25zdCBwcm9taXNlID0gY3JlYXRlQ29udGludWFibGVQcm9taXNlKHZhbHVlLCAoKSA9PiBzdG9yZS5nZXQoYXRvbSkpO1xuICAgIGlmIChwcm9taXNlU3RhdHVzKSB7XG4gICAgICBhdHRhY2hQcm9taXNlU3RhdHVzKHByb21pc2UpO1xuICAgIH1cbiAgICByZXR1cm4gdXNlKHByb21pc2UpO1xuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gdXNlU2V0QXRvbShhdG9tLCBvcHRpb25zKSB7XG4gIGNvbnN0IHN0b3JlID0gdXNlU3RvcmUob3B0aW9ucyk7XG4gIGNvbnN0IHNldEF0b20gPSB1c2VDYWxsYmFjayhcbiAgICAoLi4uYXJncykgPT4ge1xuICAgICAgaWYgKChpbXBvcnQubWV0YS5lbnYgPyBpbXBvcnQubWV0YS5lbnYuTU9ERSA6IHZvaWQgMCkgIT09IFwicHJvZHVjdGlvblwiICYmICEoXCJ3cml0ZVwiIGluIGF0b20pKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5vdCB3cml0YWJsZSBhdG9tXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0b3JlLnNldChhdG9tLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIFtzdG9yZSwgYXRvbV1cbiAgKTtcbiAgcmV0dXJuIHNldEF0b207XG59XG5cbmZ1bmN0aW9uIHVzZUF0b20oYXRvbSwgb3B0aW9ucykge1xuICByZXR1cm4gW1xuICAgIHVzZUF0b21WYWx1ZShhdG9tLCBvcHRpb25zKSxcbiAgICAvLyBXZSBkbyB3cm9uZyB0eXBlIGFzc2VydGlvbiBoZXJlLCB3aGljaCByZXN1bHRzIGluIHRocm93aW5nIGFuIGVycm9yLlxuICAgIHVzZVNldEF0b20oYXRvbSwgb3B0aW9ucylcbiAgXTtcbn1cblxuZXhwb3J0IHsgUHJvdmlkZXIsIHVzZUF0b20sIHVzZUF0b21WYWx1ZSwgdXNlU2V0QXRvbSwgdXNlU3RvcmUgfTtcbiJdLCJuYW1lcyI6WyJSZWFjdCIsImNyZWF0ZUNvbnRleHQiLCJ1c2VDb250ZXh0IiwidXNlUmVmIiwiY3JlYXRlRWxlbWVudCIsInVzZVJlZHVjZXIiLCJ1c2VFZmZlY3QiLCJ1c2VEZWJ1Z1ZhbHVlIiwidXNlQ2FsbGJhY2siLCJnZXREZWZhdWx0U3RvcmUiLCJjcmVhdGVTdG9yZSIsIklOVEVSTkFMX3JlZ2lzdGVyQWJvcnRIYW5kbGVyIiwiU3RvcmVDb250ZXh0IiwidXNlU3RvcmUiLCJvcHRpb25zIiwic3RvcmUiLCJQcm92aWRlciIsImNoaWxkcmVuIiwic3RvcmVSZWYiLCJjdXJyZW50IiwidmFsdWUiLCJpc1Byb21pc2VMaWtlIiwieCIsInRoZW4iLCJhdHRhY2hQcm9taXNlU3RhdHVzIiwicHJvbWlzZSIsInN0YXR1cyIsInYiLCJlIiwicmVhc29uIiwidXNlIiwiY29udGludWFibGVQcm9taXNlTWFwIiwiV2Vha01hcCIsImNyZWF0ZUNvbnRpbnVhYmxlUHJvbWlzZSIsImdldFZhbHVlIiwiY29udGludWFibGVQcm9taXNlIiwiZ2V0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJjdXJyIiwib25GdWxmaWxsZWQiLCJtZSIsIm9uUmVqZWN0ZWQiLCJvbkFib3J0IiwibmV4dFZhbHVlIiwic2V0IiwidXNlQXRvbVZhbHVlIiwiYXRvbSIsImRlbGF5IiwidW5zdGFibGVfcHJvbWlzZVN0YXR1cyIsInByb21pc2VTdGF0dXMiLCJ2YWx1ZUZyb21SZWR1Y2VyIiwic3RvcmVGcm9tUmVkdWNlciIsImF0b21Gcm9tUmVkdWNlciIsInJlcmVuZGVyIiwicHJldiIsIk9iamVjdCIsImlzIiwidW5zdWIiLCJzdWIiLCJ2YWx1ZTIiLCJzZXRUaW1lb3V0IiwidXNlU2V0QXRvbSIsInNldEF0b20iLCJhcmdzIiwiZW52IiwiTU9ERSIsIkVycm9yIiwidXNlQXRvbSJdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/jotai@2.15.0_@types+react@18.3.26_react@18.2.0/node_modules/jotai/esm/react.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/jotai@2.15.0_@types+react@18.3.26_react@18.2.0/node_modules/jotai/esm/vanilla.mjs":
/*!**************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/jotai@2.15.0_@types+react@18.3.26_react@18.2.0/node_modules/jotai/esm/vanilla.mjs ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   INTERNAL_overrideCreateStore: () => (/* binding */ INTERNAL_overrideCreateStore),\n/* harmony export */   atom: () => (/* binding */ atom),\n/* harmony export */   createStore: () => (/* binding */ createStore),\n/* harmony export */   getDefaultStore: () => (/* binding */ getDefaultStore)\n/* harmony export */ });\n/* harmony import */ var jotai_vanilla_internals__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jotai/vanilla/internals */ \"(ssr)/./node_modules/.pnpm/jotai@2.15.0_@types+react@18.3.26_react@18.2.0/node_modules/jotai/esm/vanilla/internals.mjs\");\n\n\nlet keyCount = 0;\nfunction atom(read, write) {\n  const key = `atom${++keyCount}`;\n  const config = {\n    toString() {\n      return ( false ? 0 : void 0) !== \"production\" && this.debugLabel ? key + \":\" + this.debugLabel : key;\n    }\n  };\n  if (typeof read === \"function\") {\n    config.read = read;\n  } else {\n    config.init = read;\n    config.read = defaultRead;\n    config.write = defaultWrite;\n  }\n  if (write) {\n    config.write = write;\n  }\n  return config;\n}\nfunction defaultRead(get) {\n  return get(this);\n}\nfunction defaultWrite(get, set, arg) {\n  return set(\n    this,\n    typeof arg === \"function\" ? arg(get(this)) : arg\n  );\n}\n\nlet overiddenCreateStore;\nfunction INTERNAL_overrideCreateStore(fn) {\n  overiddenCreateStore = fn(overiddenCreateStore);\n}\nfunction createStore() {\n  if (overiddenCreateStore) {\n    return overiddenCreateStore();\n  }\n  return (0,jotai_vanilla_internals__WEBPACK_IMPORTED_MODULE_0__.INTERNAL_buildStoreRev2)();\n}\nlet defaultStore;\nfunction getDefaultStore() {\n  if (!defaultStore) {\n    defaultStore = createStore();\n    if (( false ? 0 : void 0) !== \"production\") {\n      globalThis.__JOTAI_DEFAULT_STORE__ || (globalThis.__JOTAI_DEFAULT_STORE__ = defaultStore);\n      if (globalThis.__JOTAI_DEFAULT_STORE__ !== defaultStore) {\n        console.warn(\n          \"Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044\"\n        );\n      }\n    }\n  }\n  return defaultStore;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vam90YWlAMi4xNS4wX0B0eXBlcytyZWFjdEAxOC4zLjI2X3JlYWN0QDE4LjIuMC9ub2RlX21vZHVsZXMvam90YWkvZXNtL3ZhbmlsbGEubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQWtFOztBQUVsRTtBQUNBO0FBQ0EscUJBQXFCLFdBQVc7QUFDaEM7QUFDQTtBQUNBLGNBQWMsTUFBZSxHQUFHLENBQW9CO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxnRkFBdUI7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsTUFBZSxHQUFHLENBQW9CO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUU0RSIsInNvdXJjZXMiOlsiL3Jvb3QvdGhlMTEvZnJvbnRlbmQvbm9kZV9tb2R1bGVzLy5wbnBtL2pvdGFpQDIuMTUuMF9AdHlwZXMrcmVhY3RAMTguMy4yNl9yZWFjdEAxOC4yLjAvbm9kZV9tb2R1bGVzL2pvdGFpL2VzbS92YW5pbGxhLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJTlRFUk5BTF9idWlsZFN0b3JlUmV2MiB9IGZyb20gJ2pvdGFpL3ZhbmlsbGEvaW50ZXJuYWxzJztcblxubGV0IGtleUNvdW50ID0gMDtcbmZ1bmN0aW9uIGF0b20ocmVhZCwgd3JpdGUpIHtcbiAgY29uc3Qga2V5ID0gYGF0b20keysra2V5Q291bnR9YDtcbiAgY29uc3QgY29uZmlnID0ge1xuICAgIHRvU3RyaW5nKCkge1xuICAgICAgcmV0dXJuIChpbXBvcnQubWV0YS5lbnYgPyBpbXBvcnQubWV0YS5lbnYuTU9ERSA6IHZvaWQgMCkgIT09IFwicHJvZHVjdGlvblwiICYmIHRoaXMuZGVidWdMYWJlbCA/IGtleSArIFwiOlwiICsgdGhpcy5kZWJ1Z0xhYmVsIDoga2V5O1xuICAgIH1cbiAgfTtcbiAgaWYgKHR5cGVvZiByZWFkID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBjb25maWcucmVhZCA9IHJlYWQ7XG4gIH0gZWxzZSB7XG4gICAgY29uZmlnLmluaXQgPSByZWFkO1xuICAgIGNvbmZpZy5yZWFkID0gZGVmYXVsdFJlYWQ7XG4gICAgY29uZmlnLndyaXRlID0gZGVmYXVsdFdyaXRlO1xuICB9XG4gIGlmICh3cml0ZSkge1xuICAgIGNvbmZpZy53cml0ZSA9IHdyaXRlO1xuICB9XG4gIHJldHVybiBjb25maWc7XG59XG5mdW5jdGlvbiBkZWZhdWx0UmVhZChnZXQpIHtcbiAgcmV0dXJuIGdldCh0aGlzKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRXcml0ZShnZXQsIHNldCwgYXJnKSB7XG4gIHJldHVybiBzZXQoXG4gICAgdGhpcyxcbiAgICB0eXBlb2YgYXJnID09PSBcImZ1bmN0aW9uXCIgPyBhcmcoZ2V0KHRoaXMpKSA6IGFyZ1xuICApO1xufVxuXG5sZXQgb3ZlcmlkZGVuQ3JlYXRlU3RvcmU7XG5mdW5jdGlvbiBJTlRFUk5BTF9vdmVycmlkZUNyZWF0ZVN0b3JlKGZuKSB7XG4gIG92ZXJpZGRlbkNyZWF0ZVN0b3JlID0gZm4ob3ZlcmlkZGVuQ3JlYXRlU3RvcmUpO1xufVxuZnVuY3Rpb24gY3JlYXRlU3RvcmUoKSB7XG4gIGlmIChvdmVyaWRkZW5DcmVhdGVTdG9yZSkge1xuICAgIHJldHVybiBvdmVyaWRkZW5DcmVhdGVTdG9yZSgpO1xuICB9XG4gIHJldHVybiBJTlRFUk5BTF9idWlsZFN0b3JlUmV2MigpO1xufVxubGV0IGRlZmF1bHRTdG9yZTtcbmZ1bmN0aW9uIGdldERlZmF1bHRTdG9yZSgpIHtcbiAgaWYgKCFkZWZhdWx0U3RvcmUpIHtcbiAgICBkZWZhdWx0U3RvcmUgPSBjcmVhdGVTdG9yZSgpO1xuICAgIGlmICgoaW1wb3J0Lm1ldGEuZW52ID8gaW1wb3J0Lm1ldGEuZW52Lk1PREUgOiB2b2lkIDApICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgICAgZ2xvYmFsVGhpcy5fX0pPVEFJX0RFRkFVTFRfU1RPUkVfXyB8fCAoZ2xvYmFsVGhpcy5fX0pPVEFJX0RFRkFVTFRfU1RPUkVfXyA9IGRlZmF1bHRTdG9yZSk7XG4gICAgICBpZiAoZ2xvYmFsVGhpcy5fX0pPVEFJX0RFRkFVTFRfU1RPUkVfXyAhPT0gZGVmYXVsdFN0b3JlKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBcIkRldGVjdGVkIG11bHRpcGxlIEpvdGFpIGluc3RhbmNlcy4gSXQgbWF5IGNhdXNlIHVuZXhwZWN0ZWQgYmVoYXZpb3Igd2l0aCB0aGUgZGVmYXVsdCBzdG9yZS4gaHR0cHM6Ly9naXRodWIuY29tL3BtbmRycy9qb3RhaS9kaXNjdXNzaW9ucy8yMDQ0XCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRlZmF1bHRTdG9yZTtcbn1cblxuZXhwb3J0IHsgSU5URVJOQUxfb3ZlcnJpZGVDcmVhdGVTdG9yZSwgYXRvbSwgY3JlYXRlU3RvcmUsIGdldERlZmF1bHRTdG9yZSB9O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/jotai@2.15.0_@types+react@18.3.26_react@18.2.0/node_modules/jotai/esm/vanilla.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/jotai@2.15.0_@types+react@18.3.26_react@18.2.0/node_modules/jotai/esm/vanilla/internals.mjs":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/jotai@2.15.0_@types+react@18.3.26_react@18.2.0/node_modules/jotai/esm/vanilla/internals.mjs ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   INTERNAL_abortPromise: () => (/* binding */ abortPromise),\n/* harmony export */   INTERNAL_addPendingPromiseToDependency: () => (/* binding */ addPendingPromiseToDependency),\n/* harmony export */   INTERNAL_buildStoreRev2: () => (/* binding */ buildStore),\n/* harmony export */   INTERNAL_getBuildingBlocksRev2: () => (/* binding */ getBuildingBlocks),\n/* harmony export */   INTERNAL_getMountedOrPendingDependents: () => (/* binding */ getMountedOrPendingDependents),\n/* harmony export */   INTERNAL_hasInitialValue: () => (/* binding */ hasInitialValue),\n/* harmony export */   INTERNAL_initializeStoreHooksRev2: () => (/* binding */ initializeStoreHooks),\n/* harmony export */   INTERNAL_isActuallyWritableAtom: () => (/* binding */ isActuallyWritableAtom),\n/* harmony export */   INTERNAL_isAtomStateInitialized: () => (/* binding */ isAtomStateInitialized),\n/* harmony export */   INTERNAL_isPendingPromise: () => (/* binding */ isPendingPromise),\n/* harmony export */   INTERNAL_isPromiseLike: () => (/* binding */ isPromiseLike),\n/* harmony export */   INTERNAL_promiseStateMap: () => (/* binding */ promiseStateMap),\n/* harmony export */   INTERNAL_registerAbortHandler: () => (/* binding */ registerAbortHandler),\n/* harmony export */   INTERNAL_returnAtomValue: () => (/* binding */ returnAtomValue)\n/* harmony export */ });\nfunction hasInitialValue(atom) {\n  return \"init\" in atom;\n}\nfunction isActuallyWritableAtom(atom) {\n  return !!atom.write;\n}\nfunction isAtomStateInitialized(atomState) {\n  return \"v\" in atomState || \"e\" in atomState;\n}\nfunction returnAtomValue(atomState) {\n  if (\"e\" in atomState) {\n    throw atomState.e;\n  }\n  if (( false ? 0 : void 0) !== \"production\" && !(\"v\" in atomState)) {\n    throw new Error(\"[Bug] atom state is not initialized\");\n  }\n  return atomState.v;\n}\nconst promiseStateMap = /* @__PURE__ */ new WeakMap();\nfunction isPendingPromise(value) {\n  var _a;\n  return isPromiseLike(value) && !!((_a = promiseStateMap.get(value)) == null ? void 0 : _a[0]);\n}\nfunction abortPromise(promise) {\n  const promiseState = promiseStateMap.get(promise);\n  if (promiseState == null ? void 0 : promiseState[0]) {\n    promiseState[0] = false;\n    promiseState[1].forEach((fn) => fn());\n  }\n}\nfunction registerAbortHandler(promise, abortHandler) {\n  let promiseState = promiseStateMap.get(promise);\n  if (!promiseState) {\n    promiseState = [true, /* @__PURE__ */ new Set()];\n    promiseStateMap.set(promise, promiseState);\n    const settle = () => {\n      promiseState[0] = false;\n    };\n    promise.then(settle, settle);\n  }\n  promiseState[1].add(abortHandler);\n}\nfunction isPromiseLike(p) {\n  return typeof (p == null ? void 0 : p.then) === \"function\";\n}\nfunction addPendingPromiseToDependency(atom, promise, dependencyAtomState) {\n  if (!dependencyAtomState.p.has(atom)) {\n    dependencyAtomState.p.add(atom);\n    const cleanup = () => dependencyAtomState.p.delete(atom);\n    promise.then(cleanup, cleanup);\n  }\n}\nfunction getMountedOrPendingDependents(atom, atomState, mountedMap) {\n  var _a;\n  const dependents = /* @__PURE__ */ new Set();\n  for (const a of ((_a = mountedMap.get(atom)) == null ? void 0 : _a.t) || []) {\n    if (mountedMap.has(a)) {\n      dependents.add(a);\n    }\n  }\n  for (const atomWithPendingPromise of atomState.p) {\n    dependents.add(atomWithPendingPromise);\n  }\n  return dependents;\n}\nconst createStoreHook = () => {\n  const callbacks = /* @__PURE__ */ new Set();\n  const notify = () => callbacks.forEach((fn) => fn());\n  notify.add = (fn) => {\n    callbacks.add(fn);\n    return () => callbacks.delete(fn);\n  };\n  return notify;\n};\nconst createStoreHookForAtoms = () => {\n  const all = {};\n  const callbacks = /* @__PURE__ */ new WeakMap();\n  const notify = (atom) => {\n    var _a, _b;\n    (_a = callbacks.get(all)) == null ? void 0 : _a.forEach((fn) => fn(atom));\n    (_b = callbacks.get(atom)) == null ? void 0 : _b.forEach((fn) => fn());\n  };\n  notify.add = (atom, fn) => {\n    const key = atom || all;\n    const fns = (callbacks.has(key) ? callbacks : callbacks.set(key, /* @__PURE__ */ new Set())).get(key);\n    fns.add(fn);\n    return () => {\n      fns == null ? void 0 : fns.delete(fn);\n      if (!fns.size) {\n        callbacks.delete(key);\n      }\n    };\n  };\n  return notify;\n};\nfunction initializeStoreHooks(storeHooks) {\n  storeHooks.r || (storeHooks.r = createStoreHookForAtoms());\n  storeHooks.c || (storeHooks.c = createStoreHookForAtoms());\n  storeHooks.m || (storeHooks.m = createStoreHookForAtoms());\n  storeHooks.u || (storeHooks.u = createStoreHookForAtoms());\n  storeHooks.f || (storeHooks.f = createStoreHook());\n  return storeHooks;\n}\nconst atomRead = (_store, atom, ...params) => atom.read(...params);\nconst atomWrite = (_store, atom, ...params) => atom.write(...params);\nconst atomOnInit = (store, atom) => {\n  var _a;\n  return (_a = atom.unstable_onInit) == null ? void 0 : _a.call(atom, store);\n};\nconst atomOnMount = (_store, atom, setAtom) => {\n  var _a;\n  return (_a = atom.onMount) == null ? void 0 : _a.call(atom, setAtom);\n};\nconst ensureAtomState = (store, atom) => {\n  const buildingBlocks = getInternalBuildingBlocks(store);\n  const atomStateMap = buildingBlocks[0];\n  const atomOnInit2 = buildingBlocks[9];\n  if (( false ? 0 : void 0) !== \"production\" && !atom) {\n    throw new Error(\"Atom is undefined or null\");\n  }\n  let atomState = atomStateMap.get(atom);\n  if (!atomState) {\n    atomState = { d: /* @__PURE__ */ new Map(), p: /* @__PURE__ */ new Set(), n: 0 };\n    atomStateMap.set(atom, atomState);\n    atomOnInit2 == null ? void 0 : atomOnInit2(store, atom);\n  }\n  return atomState;\n};\nconst flushCallbacks = (store) => {\n  const buildingBlocks = getInternalBuildingBlocks(store);\n  const mountedMap = buildingBlocks[1];\n  const changedAtoms = buildingBlocks[3];\n  const mountCallbacks = buildingBlocks[4];\n  const unmountCallbacks = buildingBlocks[5];\n  const storeHooks = buildingBlocks[6];\n  const recomputeInvalidatedAtoms2 = buildingBlocks[13];\n  const errors = [];\n  const call = (fn) => {\n    try {\n      fn();\n    } catch (e) {\n      errors.push(e);\n    }\n  };\n  do {\n    if (storeHooks.f) {\n      call(storeHooks.f);\n    }\n    const callbacks = /* @__PURE__ */ new Set();\n    const add = callbacks.add.bind(callbacks);\n    changedAtoms.forEach((atom) => {\n      var _a;\n      return (_a = mountedMap.get(atom)) == null ? void 0 : _a.l.forEach(add);\n    });\n    changedAtoms.clear();\n    unmountCallbacks.forEach(add);\n    unmountCallbacks.clear();\n    mountCallbacks.forEach(add);\n    mountCallbacks.clear();\n    callbacks.forEach(call);\n    if (changedAtoms.size) {\n      recomputeInvalidatedAtoms2(store);\n    }\n  } while (changedAtoms.size || unmountCallbacks.size || mountCallbacks.size);\n  if (errors.length) {\n    throw new AggregateError(errors);\n  }\n};\nconst recomputeInvalidatedAtoms = (store) => {\n  const buildingBlocks = getInternalBuildingBlocks(store);\n  const mountedMap = buildingBlocks[1];\n  const invalidatedAtoms = buildingBlocks[2];\n  const changedAtoms = buildingBlocks[3];\n  const ensureAtomState2 = buildingBlocks[11];\n  const readAtomState2 = buildingBlocks[14];\n  const mountDependencies2 = buildingBlocks[17];\n  const topSortedReversed = [];\n  const visiting = /* @__PURE__ */ new WeakSet();\n  const visited = /* @__PURE__ */ new WeakSet();\n  const stack = Array.from(changedAtoms);\n  while (stack.length) {\n    const a = stack[stack.length - 1];\n    const aState = ensureAtomState2(store, a);\n    if (visited.has(a)) {\n      stack.pop();\n      continue;\n    }\n    if (visiting.has(a)) {\n      if (invalidatedAtoms.get(a) === aState.n) {\n        topSortedReversed.push([a, aState]);\n      } else if (( false ? 0 : void 0) !== \"production\" && invalidatedAtoms.has(a)) {\n        throw new Error(\"[Bug] invalidated atom exists\");\n      }\n      visited.add(a);\n      stack.pop();\n      continue;\n    }\n    visiting.add(a);\n    for (const d of getMountedOrPendingDependents(a, aState, mountedMap)) {\n      if (!visiting.has(d)) {\n        stack.push(d);\n      }\n    }\n  }\n  for (let i = topSortedReversed.length - 1; i >= 0; --i) {\n    const [a, aState] = topSortedReversed[i];\n    let hasChangedDeps = false;\n    for (const dep of aState.d.keys()) {\n      if (dep !== a && changedAtoms.has(dep)) {\n        hasChangedDeps = true;\n        break;\n      }\n    }\n    if (hasChangedDeps) {\n      readAtomState2(store, a);\n      mountDependencies2(store, a);\n    }\n    invalidatedAtoms.delete(a);\n  }\n};\nconst readAtomState = (store, atom) => {\n  var _a, _b;\n  const buildingBlocks = getInternalBuildingBlocks(store);\n  const mountedMap = buildingBlocks[1];\n  const invalidatedAtoms = buildingBlocks[2];\n  const changedAtoms = buildingBlocks[3];\n  const storeHooks = buildingBlocks[6];\n  const atomRead2 = buildingBlocks[7];\n  const ensureAtomState2 = buildingBlocks[11];\n  const flushCallbacks2 = buildingBlocks[12];\n  const recomputeInvalidatedAtoms2 = buildingBlocks[13];\n  const readAtomState2 = buildingBlocks[14];\n  const writeAtomState2 = buildingBlocks[16];\n  const mountDependencies2 = buildingBlocks[17];\n  const atomState = ensureAtomState2(store, atom);\n  if (isAtomStateInitialized(atomState)) {\n    if (mountedMap.has(atom) && invalidatedAtoms.get(atom) !== atomState.n) {\n      return atomState;\n    }\n    if (Array.from(atomState.d).every(\n      ([a, n]) => (\n        // Recursively, read the atom state of the dependency, and\n        // check if the atom epoch number is unchanged\n        readAtomState2(store, a).n === n\n      )\n    )) {\n      return atomState;\n    }\n  }\n  atomState.d.clear();\n  let isSync = true;\n  function mountDependenciesIfAsync() {\n    if (mountedMap.has(atom)) {\n      mountDependencies2(store, atom);\n      recomputeInvalidatedAtoms2(store);\n      flushCallbacks2(store);\n    }\n  }\n  function getter(a) {\n    var _a2;\n    if (a === atom) {\n      const aState2 = ensureAtomState2(store, a);\n      if (!isAtomStateInitialized(aState2)) {\n        if (hasInitialValue(a)) {\n          setAtomStateValueOrPromise(store, a, a.init);\n        } else {\n          throw new Error(\"no atom init\");\n        }\n      }\n      return returnAtomValue(aState2);\n    }\n    const aState = readAtomState2(store, a);\n    try {\n      return returnAtomValue(aState);\n    } finally {\n      atomState.d.set(a, aState.n);\n      if (isPendingPromise(atomState.v)) {\n        addPendingPromiseToDependency(atom, atomState.v, aState);\n      }\n      (_a2 = mountedMap.get(a)) == null ? void 0 : _a2.t.add(atom);\n      if (!isSync) {\n        mountDependenciesIfAsync();\n      }\n    }\n  }\n  let controller;\n  let setSelf;\n  const options = {\n    get signal() {\n      if (!controller) {\n        controller = new AbortController();\n      }\n      return controller.signal;\n    },\n    get setSelf() {\n      if (( false ? 0 : void 0) !== \"production\" && !isActuallyWritableAtom(atom)) {\n        console.warn(\"setSelf function cannot be used with read-only atom\");\n      }\n      if (!setSelf && isActuallyWritableAtom(atom)) {\n        setSelf = (...args) => {\n          if (( false ? 0 : void 0) !== \"production\" && isSync) {\n            console.warn(\"setSelf function cannot be called in sync\");\n          }\n          if (!isSync) {\n            try {\n              return writeAtomState2(store, atom, ...args);\n            } finally {\n              recomputeInvalidatedAtoms2(store);\n              flushCallbacks2(store);\n            }\n          }\n        };\n      }\n      return setSelf;\n    }\n  };\n  const prevEpochNumber = atomState.n;\n  try {\n    const valueOrPromise = atomRead2(store, atom, getter, options);\n    setAtomStateValueOrPromise(store, atom, valueOrPromise);\n    if (isPromiseLike(valueOrPromise)) {\n      registerAbortHandler(valueOrPromise, () => controller == null ? void 0 : controller.abort());\n      valueOrPromise.then(mountDependenciesIfAsync, mountDependenciesIfAsync);\n    }\n    (_a = storeHooks.r) == null ? void 0 : _a.call(storeHooks, atom);\n    return atomState;\n  } catch (error) {\n    delete atomState.v;\n    atomState.e = error;\n    ++atomState.n;\n    return atomState;\n  } finally {\n    isSync = false;\n    if (prevEpochNumber !== atomState.n && invalidatedAtoms.get(atom) === prevEpochNumber) {\n      invalidatedAtoms.set(atom, atomState.n);\n      changedAtoms.add(atom);\n      (_b = storeHooks.c) == null ? void 0 : _b.call(storeHooks, atom);\n    }\n  }\n};\nconst invalidateDependents = (store, atom) => {\n  const buildingBlocks = getInternalBuildingBlocks(store);\n  const mountedMap = buildingBlocks[1];\n  const invalidatedAtoms = buildingBlocks[2];\n  const ensureAtomState2 = buildingBlocks[11];\n  const stack = [atom];\n  while (stack.length) {\n    const a = stack.pop();\n    const aState = ensureAtomState2(store, a);\n    for (const d of getMountedOrPendingDependents(a, aState, mountedMap)) {\n      const dState = ensureAtomState2(store, d);\n      invalidatedAtoms.set(d, dState.n);\n      stack.push(d);\n    }\n  }\n};\nconst writeAtomState = (store, atom, ...args) => {\n  const buildingBlocks = getInternalBuildingBlocks(store);\n  const changedAtoms = buildingBlocks[3];\n  const storeHooks = buildingBlocks[6];\n  const atomWrite2 = buildingBlocks[8];\n  const ensureAtomState2 = buildingBlocks[11];\n  const flushCallbacks2 = buildingBlocks[12];\n  const recomputeInvalidatedAtoms2 = buildingBlocks[13];\n  const readAtomState2 = buildingBlocks[14];\n  const invalidateDependents2 = buildingBlocks[15];\n  const mountDependencies2 = buildingBlocks[17];\n  let isSync = true;\n  const getter = (a) => returnAtomValue(readAtomState2(store, a));\n  const setter = (a, ...args2) => {\n    var _a;\n    const aState = ensureAtomState2(store, a);\n    try {\n      if (a === atom) {\n        if (!hasInitialValue(a)) {\n          throw new Error(\"atom not writable\");\n        }\n        const prevEpochNumber = aState.n;\n        const v = args2[0];\n        setAtomStateValueOrPromise(store, a, v);\n        mountDependencies2(store, a);\n        if (prevEpochNumber !== aState.n) {\n          changedAtoms.add(a);\n          (_a = storeHooks.c) == null ? void 0 : _a.call(storeHooks, a);\n          invalidateDependents2(store, a);\n        }\n        return void 0;\n      } else {\n        return writeAtomState(store, a, ...args2);\n      }\n    } finally {\n      if (!isSync) {\n        recomputeInvalidatedAtoms2(store);\n        flushCallbacks2(store);\n      }\n    }\n  };\n  try {\n    return atomWrite2(store, atom, getter, setter, ...args);\n  } finally {\n    isSync = false;\n  }\n};\nconst mountDependencies = (store, atom) => {\n  var _a;\n  const buildingBlocks = getInternalBuildingBlocks(store);\n  const mountedMap = buildingBlocks[1];\n  const changedAtoms = buildingBlocks[3];\n  const storeHooks = buildingBlocks[6];\n  const ensureAtomState2 = buildingBlocks[11];\n  const invalidateDependents2 = buildingBlocks[15];\n  const mountAtom2 = buildingBlocks[18];\n  const unmountAtom2 = buildingBlocks[19];\n  const atomState = ensureAtomState2(store, atom);\n  const mounted = mountedMap.get(atom);\n  if (mounted && !isPendingPromise(atomState.v)) {\n    for (const [a, n] of atomState.d) {\n      if (!mounted.d.has(a)) {\n        const aState = ensureAtomState2(store, a);\n        const aMounted = mountAtom2(store, a);\n        aMounted.t.add(atom);\n        mounted.d.add(a);\n        if (n !== aState.n) {\n          changedAtoms.add(a);\n          (_a = storeHooks.c) == null ? void 0 : _a.call(storeHooks, a);\n          invalidateDependents2(store, a);\n        }\n      }\n    }\n    for (const a of mounted.d || []) {\n      if (!atomState.d.has(a)) {\n        mounted.d.delete(a);\n        const aMounted = unmountAtom2(store, a);\n        aMounted == null ? void 0 : aMounted.t.delete(atom);\n      }\n    }\n  }\n};\nconst mountAtom = (store, atom) => {\n  var _a;\n  const buildingBlocks = getInternalBuildingBlocks(store);\n  const mountedMap = buildingBlocks[1];\n  const mountCallbacks = buildingBlocks[4];\n  const storeHooks = buildingBlocks[6];\n  const atomOnMount2 = buildingBlocks[10];\n  const ensureAtomState2 = buildingBlocks[11];\n  const flushCallbacks2 = buildingBlocks[12];\n  const recomputeInvalidatedAtoms2 = buildingBlocks[13];\n  const readAtomState2 = buildingBlocks[14];\n  const writeAtomState2 = buildingBlocks[16];\n  const atomState = ensureAtomState2(store, atom);\n  let mounted = mountedMap.get(atom);\n  if (!mounted) {\n    readAtomState2(store, atom);\n    for (const a of atomState.d.keys()) {\n      const aMounted = mountAtom(store, a);\n      aMounted.t.add(atom);\n    }\n    mounted = {\n      l: /* @__PURE__ */ new Set(),\n      d: new Set(atomState.d.keys()),\n      t: /* @__PURE__ */ new Set()\n    };\n    mountedMap.set(atom, mounted);\n    (_a = storeHooks.m) == null ? void 0 : _a.call(storeHooks, atom);\n    if (isActuallyWritableAtom(atom)) {\n      const processOnMount = () => {\n        let isSync = true;\n        const setAtom = (...args) => {\n          try {\n            return writeAtomState2(store, atom, ...args);\n          } finally {\n            if (!isSync) {\n              recomputeInvalidatedAtoms2(store);\n              flushCallbacks2(store);\n            }\n          }\n        };\n        try {\n          const onUnmount = atomOnMount2(store, atom, setAtom);\n          if (onUnmount) {\n            mounted.u = () => {\n              isSync = true;\n              try {\n                onUnmount();\n              } finally {\n                isSync = false;\n              }\n            };\n          }\n        } finally {\n          isSync = false;\n        }\n      };\n      mountCallbacks.add(processOnMount);\n    }\n  }\n  return mounted;\n};\nconst unmountAtom = (store, atom) => {\n  var _a;\n  const buildingBlocks = getInternalBuildingBlocks(store);\n  const mountedMap = buildingBlocks[1];\n  const unmountCallbacks = buildingBlocks[5];\n  const storeHooks = buildingBlocks[6];\n  const ensureAtomState2 = buildingBlocks[11];\n  const unmountAtom2 = buildingBlocks[19];\n  const atomState = ensureAtomState2(store, atom);\n  let mounted = mountedMap.get(atom);\n  if (mounted && !mounted.l.size && !Array.from(mounted.t).some((a) => {\n    var _a2;\n    return (_a2 = mountedMap.get(a)) == null ? void 0 : _a2.d.has(atom);\n  })) {\n    if (mounted.u) {\n      unmountCallbacks.add(mounted.u);\n    }\n    mounted = void 0;\n    mountedMap.delete(atom);\n    (_a = storeHooks.u) == null ? void 0 : _a.call(storeHooks, atom);\n    for (const a of atomState.d.keys()) {\n      const aMounted = unmountAtom2(store, a);\n      aMounted == null ? void 0 : aMounted.t.delete(atom);\n    }\n    return void 0;\n  }\n  return mounted;\n};\nconst setAtomStateValueOrPromise = (store, atom, valueOrPromise) => {\n  const ensureAtomState2 = getInternalBuildingBlocks(store)[11];\n  const atomState = ensureAtomState2(store, atom);\n  const hasPrevValue = \"v\" in atomState;\n  const prevValue = atomState.v;\n  if (isPromiseLike(valueOrPromise)) {\n    for (const a of atomState.d.keys()) {\n      addPendingPromiseToDependency(\n        atom,\n        valueOrPromise,\n        ensureAtomState2(store, a)\n      );\n    }\n  }\n  atomState.v = valueOrPromise;\n  delete atomState.e;\n  if (!hasPrevValue || !Object.is(prevValue, atomState.v)) {\n    ++atomState.n;\n    if (isPromiseLike(prevValue)) {\n      abortPromise(prevValue);\n    }\n  }\n};\nconst storeGet = (store, atom) => {\n  const readAtomState2 = getInternalBuildingBlocks(store)[14];\n  return returnAtomValue(readAtomState2(store, atom));\n};\nconst storeSet = (store, atom, ...args) => {\n  const buildingBlocks = getInternalBuildingBlocks(store);\n  const flushCallbacks2 = buildingBlocks[12];\n  const recomputeInvalidatedAtoms2 = buildingBlocks[13];\n  const writeAtomState2 = buildingBlocks[16];\n  try {\n    return writeAtomState2(store, atom, ...args);\n  } finally {\n    recomputeInvalidatedAtoms2(store);\n    flushCallbacks2(store);\n  }\n};\nconst storeSub = (store, atom, listener) => {\n  const buildingBlocks = getInternalBuildingBlocks(store);\n  const flushCallbacks2 = buildingBlocks[12];\n  const mountAtom2 = buildingBlocks[18];\n  const unmountAtom2 = buildingBlocks[19];\n  const mounted = mountAtom2(store, atom);\n  const listeners = mounted.l;\n  listeners.add(listener);\n  flushCallbacks2(store);\n  return () => {\n    listeners.delete(listener);\n    unmountAtom2(store, atom);\n    flushCallbacks2(store);\n  };\n};\nconst buildingBlockMap = /* @__PURE__ */ new WeakMap();\nconst getInternalBuildingBlocks = (store) => {\n  const buildingBlocks = buildingBlockMap.get(store);\n  if (( false ? 0 : void 0) !== \"production\" && !buildingBlocks) {\n    throw new Error(\n      \"Store must be created by buildStore to read its building blocks\"\n    );\n  }\n  return buildingBlocks;\n};\nfunction getBuildingBlocks(store) {\n  const buildingBlocks = getInternalBuildingBlocks(store);\n  const enhanceBuildingBlocks = buildingBlocks[24];\n  if (enhanceBuildingBlocks) {\n    return enhanceBuildingBlocks(buildingBlocks);\n  }\n  return buildingBlocks;\n}\nfunction buildStore(...buildArgs) {\n  const store = {\n    get(atom) {\n      const storeGet2 = getInternalBuildingBlocks(store)[21];\n      return storeGet2(store, atom);\n    },\n    set(atom, ...args) {\n      const storeSet2 = getInternalBuildingBlocks(store)[22];\n      return storeSet2(store, atom, ...args);\n    },\n    sub(atom, listener) {\n      const storeSub2 = getInternalBuildingBlocks(store)[23];\n      return storeSub2(store, atom, listener);\n    }\n  };\n  const buildingBlocks = [\n    // store state\n    /* @__PURE__ */ new WeakMap(),\n    // atomStateMap\n    /* @__PURE__ */ new WeakMap(),\n    // mountedMap\n    /* @__PURE__ */ new WeakMap(),\n    // invalidatedAtoms\n    /* @__PURE__ */ new Set(),\n    // changedAtoms\n    /* @__PURE__ */ new Set(),\n    // mountCallbacks\n    /* @__PURE__ */ new Set(),\n    // unmountCallbacks\n    {},\n    // storeHooks\n    // atom interceptors\n    atomRead,\n    atomWrite,\n    atomOnInit,\n    atomOnMount,\n    // building-block functions\n    ensureAtomState,\n    flushCallbacks,\n    recomputeInvalidatedAtoms,\n    readAtomState,\n    invalidateDependents,\n    writeAtomState,\n    mountDependencies,\n    mountAtom,\n    unmountAtom,\n    setAtomStateValueOrPromise,\n    storeGet,\n    storeSet,\n    storeSub,\n    void 0\n  ].map((fn, i) => buildArgs[i] || fn);\n  buildingBlockMap.set(store, Object.freeze(buildingBlocks));\n  return store;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vam90YWlAMi4xNS4wX0B0eXBlcytyZWFjdEAxOC4zLjI2X3JlYWN0QDE4LjIuMC9ub2RlX21vZHVsZXMvam90YWkvZXNtL3ZhbmlsbGEvaW50ZXJuYWxzLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxNQUFlLEdBQUcsQ0FBb0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLE1BQWUsR0FBRyxDQUFvQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsVUFBVSxNQUFlLEdBQUcsQ0FBb0I7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsUUFBUTtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxXQUFXLE1BQWUsR0FBRyxDQUFvQjtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsTUFBZSxHQUFHLENBQW9CO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sTUFBZSxHQUFHLENBQW9CO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFc3VCIiwic291cmNlcyI6WyIvcm9vdC90aGUxMS9mcm9udGVuZC9ub2RlX21vZHVsZXMvLnBucG0vam90YWlAMi4xNS4wX0B0eXBlcytyZWFjdEAxOC4zLjI2X3JlYWN0QDE4LjIuMC9ub2RlX21vZHVsZXMvam90YWkvZXNtL3ZhbmlsbGEvaW50ZXJuYWxzLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBoYXNJbml0aWFsVmFsdWUoYXRvbSkge1xuICByZXR1cm4gXCJpbml0XCIgaW4gYXRvbTtcbn1cbmZ1bmN0aW9uIGlzQWN0dWFsbHlXcml0YWJsZUF0b20oYXRvbSkge1xuICByZXR1cm4gISFhdG9tLndyaXRlO1xufVxuZnVuY3Rpb24gaXNBdG9tU3RhdGVJbml0aWFsaXplZChhdG9tU3RhdGUpIHtcbiAgcmV0dXJuIFwidlwiIGluIGF0b21TdGF0ZSB8fCBcImVcIiBpbiBhdG9tU3RhdGU7XG59XG5mdW5jdGlvbiByZXR1cm5BdG9tVmFsdWUoYXRvbVN0YXRlKSB7XG4gIGlmIChcImVcIiBpbiBhdG9tU3RhdGUpIHtcbiAgICB0aHJvdyBhdG9tU3RhdGUuZTtcbiAgfVxuICBpZiAoKGltcG9ydC5tZXRhLmVudiA/IGltcG9ydC5tZXRhLmVudi5NT0RFIDogdm9pZCAwKSAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgIShcInZcIiBpbiBhdG9tU3RhdGUpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiW0J1Z10gYXRvbSBzdGF0ZSBpcyBub3QgaW5pdGlhbGl6ZWRcIik7XG4gIH1cbiAgcmV0dXJuIGF0b21TdGF0ZS52O1xufVxuY29uc3QgcHJvbWlzZVN0YXRlTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5mdW5jdGlvbiBpc1BlbmRpbmdQcm9taXNlKHZhbHVlKSB7XG4gIHZhciBfYTtcbiAgcmV0dXJuIGlzUHJvbWlzZUxpa2UodmFsdWUpICYmICEhKChfYSA9IHByb21pc2VTdGF0ZU1hcC5nZXQodmFsdWUpKSA9PSBudWxsID8gdm9pZCAwIDogX2FbMF0pO1xufVxuZnVuY3Rpb24gYWJvcnRQcm9taXNlKHByb21pc2UpIHtcbiAgY29uc3QgcHJvbWlzZVN0YXRlID0gcHJvbWlzZVN0YXRlTWFwLmdldChwcm9taXNlKTtcbiAgaWYgKHByb21pc2VTdGF0ZSA9PSBudWxsID8gdm9pZCAwIDogcHJvbWlzZVN0YXRlWzBdKSB7XG4gICAgcHJvbWlzZVN0YXRlWzBdID0gZmFsc2U7XG4gICAgcHJvbWlzZVN0YXRlWzFdLmZvckVhY2goKGZuKSA9PiBmbigpKTtcbiAgfVxufVxuZnVuY3Rpb24gcmVnaXN0ZXJBYm9ydEhhbmRsZXIocHJvbWlzZSwgYWJvcnRIYW5kbGVyKSB7XG4gIGxldCBwcm9taXNlU3RhdGUgPSBwcm9taXNlU3RhdGVNYXAuZ2V0KHByb21pc2UpO1xuICBpZiAoIXByb21pc2VTdGF0ZSkge1xuICAgIHByb21pc2VTdGF0ZSA9IFt0cnVlLCAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpXTtcbiAgICBwcm9taXNlU3RhdGVNYXAuc2V0KHByb21pc2UsIHByb21pc2VTdGF0ZSk7XG4gICAgY29uc3Qgc2V0dGxlID0gKCkgPT4ge1xuICAgICAgcHJvbWlzZVN0YXRlWzBdID0gZmFsc2U7XG4gICAgfTtcbiAgICBwcm9taXNlLnRoZW4oc2V0dGxlLCBzZXR0bGUpO1xuICB9XG4gIHByb21pc2VTdGF0ZVsxXS5hZGQoYWJvcnRIYW5kbGVyKTtcbn1cbmZ1bmN0aW9uIGlzUHJvbWlzZUxpa2UocCkge1xuICByZXR1cm4gdHlwZW9mIChwID09IG51bGwgPyB2b2lkIDAgOiBwLnRoZW4pID09PSBcImZ1bmN0aW9uXCI7XG59XG5mdW5jdGlvbiBhZGRQZW5kaW5nUHJvbWlzZVRvRGVwZW5kZW5jeShhdG9tLCBwcm9taXNlLCBkZXBlbmRlbmN5QXRvbVN0YXRlKSB7XG4gIGlmICghZGVwZW5kZW5jeUF0b21TdGF0ZS5wLmhhcyhhdG9tKSkge1xuICAgIGRlcGVuZGVuY3lBdG9tU3RhdGUucC5hZGQoYXRvbSk7XG4gICAgY29uc3QgY2xlYW51cCA9ICgpID0+IGRlcGVuZGVuY3lBdG9tU3RhdGUucC5kZWxldGUoYXRvbSk7XG4gICAgcHJvbWlzZS50aGVuKGNsZWFudXAsIGNsZWFudXApO1xuICB9XG59XG5mdW5jdGlvbiBnZXRNb3VudGVkT3JQZW5kaW5nRGVwZW5kZW50cyhhdG9tLCBhdG9tU3RhdGUsIG1vdW50ZWRNYXApIHtcbiAgdmFyIF9hO1xuICBjb25zdCBkZXBlbmRlbnRzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgZm9yIChjb25zdCBhIG9mICgoX2EgPSBtb3VudGVkTWFwLmdldChhdG9tKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnQpIHx8IFtdKSB7XG4gICAgaWYgKG1vdW50ZWRNYXAuaGFzKGEpKSB7XG4gICAgICBkZXBlbmRlbnRzLmFkZChhKTtcbiAgICB9XG4gIH1cbiAgZm9yIChjb25zdCBhdG9tV2l0aFBlbmRpbmdQcm9taXNlIG9mIGF0b21TdGF0ZS5wKSB7XG4gICAgZGVwZW5kZW50cy5hZGQoYXRvbVdpdGhQZW5kaW5nUHJvbWlzZSk7XG4gIH1cbiAgcmV0dXJuIGRlcGVuZGVudHM7XG59XG5jb25zdCBjcmVhdGVTdG9yZUhvb2sgPSAoKSA9PiB7XG4gIGNvbnN0IGNhbGxiYWNrcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIGNvbnN0IG5vdGlmeSA9ICgpID0+IGNhbGxiYWNrcy5mb3JFYWNoKChmbikgPT4gZm4oKSk7XG4gIG5vdGlmeS5hZGQgPSAoZm4pID0+IHtcbiAgICBjYWxsYmFja3MuYWRkKGZuKTtcbiAgICByZXR1cm4gKCkgPT4gY2FsbGJhY2tzLmRlbGV0ZShmbik7XG4gIH07XG4gIHJldHVybiBub3RpZnk7XG59O1xuY29uc3QgY3JlYXRlU3RvcmVIb29rRm9yQXRvbXMgPSAoKSA9PiB7XG4gIGNvbnN0IGFsbCA9IHt9O1xuICBjb25zdCBjYWxsYmFja3MgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbiAgY29uc3Qgbm90aWZ5ID0gKGF0b20pID0+IHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIChfYSA9IGNhbGxiYWNrcy5nZXQoYWxsKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmZvckVhY2goKGZuKSA9PiBmbihhdG9tKSk7XG4gICAgKF9iID0gY2FsbGJhY2tzLmdldChhdG9tKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmZvckVhY2goKGZuKSA9PiBmbigpKTtcbiAgfTtcbiAgbm90aWZ5LmFkZCA9IChhdG9tLCBmbikgPT4ge1xuICAgIGNvbnN0IGtleSA9IGF0b20gfHwgYWxsO1xuICAgIGNvbnN0IGZucyA9IChjYWxsYmFja3MuaGFzKGtleSkgPyBjYWxsYmFja3MgOiBjYWxsYmFja3Muc2V0KGtleSwgLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKSkpLmdldChrZXkpO1xuICAgIGZucy5hZGQoZm4pO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBmbnMgPT0gbnVsbCA/IHZvaWQgMCA6IGZucy5kZWxldGUoZm4pO1xuICAgICAgaWYgKCFmbnMuc2l6ZSkge1xuICAgICAgICBjYWxsYmFja3MuZGVsZXRlKGtleSk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbiAgcmV0dXJuIG5vdGlmeTtcbn07XG5mdW5jdGlvbiBpbml0aWFsaXplU3RvcmVIb29rcyhzdG9yZUhvb2tzKSB7XG4gIHN0b3JlSG9va3MuciB8fCAoc3RvcmVIb29rcy5yID0gY3JlYXRlU3RvcmVIb29rRm9yQXRvbXMoKSk7XG4gIHN0b3JlSG9va3MuYyB8fCAoc3RvcmVIb29rcy5jID0gY3JlYXRlU3RvcmVIb29rRm9yQXRvbXMoKSk7XG4gIHN0b3JlSG9va3MubSB8fCAoc3RvcmVIb29rcy5tID0gY3JlYXRlU3RvcmVIb29rRm9yQXRvbXMoKSk7XG4gIHN0b3JlSG9va3MudSB8fCAoc3RvcmVIb29rcy51ID0gY3JlYXRlU3RvcmVIb29rRm9yQXRvbXMoKSk7XG4gIHN0b3JlSG9va3MuZiB8fCAoc3RvcmVIb29rcy5mID0gY3JlYXRlU3RvcmVIb29rKCkpO1xuICByZXR1cm4gc3RvcmVIb29rcztcbn1cbmNvbnN0IGF0b21SZWFkID0gKF9zdG9yZSwgYXRvbSwgLi4ucGFyYW1zKSA9PiBhdG9tLnJlYWQoLi4ucGFyYW1zKTtcbmNvbnN0IGF0b21Xcml0ZSA9IChfc3RvcmUsIGF0b20sIC4uLnBhcmFtcykgPT4gYXRvbS53cml0ZSguLi5wYXJhbXMpO1xuY29uc3QgYXRvbU9uSW5pdCA9IChzdG9yZSwgYXRvbSkgPT4ge1xuICB2YXIgX2E7XG4gIHJldHVybiAoX2EgPSBhdG9tLnVuc3RhYmxlX29uSW5pdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNhbGwoYXRvbSwgc3RvcmUpO1xufTtcbmNvbnN0IGF0b21Pbk1vdW50ID0gKF9zdG9yZSwgYXRvbSwgc2V0QXRvbSkgPT4ge1xuICB2YXIgX2E7XG4gIHJldHVybiAoX2EgPSBhdG9tLm9uTW91bnQpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jYWxsKGF0b20sIHNldEF0b20pO1xufTtcbmNvbnN0IGVuc3VyZUF0b21TdGF0ZSA9IChzdG9yZSwgYXRvbSkgPT4ge1xuICBjb25zdCBidWlsZGluZ0Jsb2NrcyA9IGdldEludGVybmFsQnVpbGRpbmdCbG9ja3Moc3RvcmUpO1xuICBjb25zdCBhdG9tU3RhdGVNYXAgPSBidWlsZGluZ0Jsb2Nrc1swXTtcbiAgY29uc3QgYXRvbU9uSW5pdDIgPSBidWlsZGluZ0Jsb2Nrc1s5XTtcbiAgaWYgKChpbXBvcnQubWV0YS5lbnYgPyBpbXBvcnQubWV0YS5lbnYuTU9ERSA6IHZvaWQgMCkgIT09IFwicHJvZHVjdGlvblwiICYmICFhdG9tKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQXRvbSBpcyB1bmRlZmluZWQgb3IgbnVsbFwiKTtcbiAgfVxuICBsZXQgYXRvbVN0YXRlID0gYXRvbVN0YXRlTWFwLmdldChhdG9tKTtcbiAgaWYgKCFhdG9tU3RhdGUpIHtcbiAgICBhdG9tU3RhdGUgPSB7IGQ6IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCksIHA6IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCksIG46IDAgfTtcbiAgICBhdG9tU3RhdGVNYXAuc2V0KGF0b20sIGF0b21TdGF0ZSk7XG4gICAgYXRvbU9uSW5pdDIgPT0gbnVsbCA/IHZvaWQgMCA6IGF0b21PbkluaXQyKHN0b3JlLCBhdG9tKTtcbiAgfVxuICByZXR1cm4gYXRvbVN0YXRlO1xufTtcbmNvbnN0IGZsdXNoQ2FsbGJhY2tzID0gKHN0b3JlKSA9PiB7XG4gIGNvbnN0IGJ1aWxkaW5nQmxvY2tzID0gZ2V0SW50ZXJuYWxCdWlsZGluZ0Jsb2NrcyhzdG9yZSk7XG4gIGNvbnN0IG1vdW50ZWRNYXAgPSBidWlsZGluZ0Jsb2Nrc1sxXTtcbiAgY29uc3QgY2hhbmdlZEF0b21zID0gYnVpbGRpbmdCbG9ja3NbM107XG4gIGNvbnN0IG1vdW50Q2FsbGJhY2tzID0gYnVpbGRpbmdCbG9ja3NbNF07XG4gIGNvbnN0IHVubW91bnRDYWxsYmFja3MgPSBidWlsZGluZ0Jsb2Nrc1s1XTtcbiAgY29uc3Qgc3RvcmVIb29rcyA9IGJ1aWxkaW5nQmxvY2tzWzZdO1xuICBjb25zdCByZWNvbXB1dGVJbnZhbGlkYXRlZEF0b21zMiA9IGJ1aWxkaW5nQmxvY2tzWzEzXTtcbiAgY29uc3QgZXJyb3JzID0gW107XG4gIGNvbnN0IGNhbGwgPSAoZm4pID0+IHtcbiAgICB0cnkge1xuICAgICAgZm4oKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBlcnJvcnMucHVzaChlKTtcbiAgICB9XG4gIH07XG4gIGRvIHtcbiAgICBpZiAoc3RvcmVIb29rcy5mKSB7XG4gICAgICBjYWxsKHN0b3JlSG9va3MuZik7XG4gICAgfVxuICAgIGNvbnN0IGNhbGxiYWNrcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gICAgY29uc3QgYWRkID0gY2FsbGJhY2tzLmFkZC5iaW5kKGNhbGxiYWNrcyk7XG4gICAgY2hhbmdlZEF0b21zLmZvckVhY2goKGF0b20pID0+IHtcbiAgICAgIHZhciBfYTtcbiAgICAgIHJldHVybiAoX2EgPSBtb3VudGVkTWFwLmdldChhdG9tKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmwuZm9yRWFjaChhZGQpO1xuICAgIH0pO1xuICAgIGNoYW5nZWRBdG9tcy5jbGVhcigpO1xuICAgIHVubW91bnRDYWxsYmFja3MuZm9yRWFjaChhZGQpO1xuICAgIHVubW91bnRDYWxsYmFja3MuY2xlYXIoKTtcbiAgICBtb3VudENhbGxiYWNrcy5mb3JFYWNoKGFkZCk7XG4gICAgbW91bnRDYWxsYmFja3MuY2xlYXIoKTtcbiAgICBjYWxsYmFja3MuZm9yRWFjaChjYWxsKTtcbiAgICBpZiAoY2hhbmdlZEF0b21zLnNpemUpIHtcbiAgICAgIHJlY29tcHV0ZUludmFsaWRhdGVkQXRvbXMyKHN0b3JlKTtcbiAgICB9XG4gIH0gd2hpbGUgKGNoYW5nZWRBdG9tcy5zaXplIHx8IHVubW91bnRDYWxsYmFja3Muc2l6ZSB8fCBtb3VudENhbGxiYWNrcy5zaXplKTtcbiAgaWYgKGVycm9ycy5sZW5ndGgpIHtcbiAgICB0aHJvdyBuZXcgQWdncmVnYXRlRXJyb3IoZXJyb3JzKTtcbiAgfVxufTtcbmNvbnN0IHJlY29tcHV0ZUludmFsaWRhdGVkQXRvbXMgPSAoc3RvcmUpID0+IHtcbiAgY29uc3QgYnVpbGRpbmdCbG9ja3MgPSBnZXRJbnRlcm5hbEJ1aWxkaW5nQmxvY2tzKHN0b3JlKTtcbiAgY29uc3QgbW91bnRlZE1hcCA9IGJ1aWxkaW5nQmxvY2tzWzFdO1xuICBjb25zdCBpbnZhbGlkYXRlZEF0b21zID0gYnVpbGRpbmdCbG9ja3NbMl07XG4gIGNvbnN0IGNoYW5nZWRBdG9tcyA9IGJ1aWxkaW5nQmxvY2tzWzNdO1xuICBjb25zdCBlbnN1cmVBdG9tU3RhdGUyID0gYnVpbGRpbmdCbG9ja3NbMTFdO1xuICBjb25zdCByZWFkQXRvbVN0YXRlMiA9IGJ1aWxkaW5nQmxvY2tzWzE0XTtcbiAgY29uc3QgbW91bnREZXBlbmRlbmNpZXMyID0gYnVpbGRpbmdCbG9ja3NbMTddO1xuICBjb25zdCB0b3BTb3J0ZWRSZXZlcnNlZCA9IFtdO1xuICBjb25zdCB2aXNpdGluZyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha1NldCgpO1xuICBjb25zdCB2aXNpdGVkID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrU2V0KCk7XG4gIGNvbnN0IHN0YWNrID0gQXJyYXkuZnJvbShjaGFuZ2VkQXRvbXMpO1xuICB3aGlsZSAoc3RhY2subGVuZ3RoKSB7XG4gICAgY29uc3QgYSA9IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdO1xuICAgIGNvbnN0IGFTdGF0ZSA9IGVuc3VyZUF0b21TdGF0ZTIoc3RvcmUsIGEpO1xuICAgIGlmICh2aXNpdGVkLmhhcyhhKSkge1xuICAgICAgc3RhY2sucG9wKCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKHZpc2l0aW5nLmhhcyhhKSkge1xuICAgICAgaWYgKGludmFsaWRhdGVkQXRvbXMuZ2V0KGEpID09PSBhU3RhdGUubikge1xuICAgICAgICB0b3BTb3J0ZWRSZXZlcnNlZC5wdXNoKFthLCBhU3RhdGVdKTtcbiAgICAgIH0gZWxzZSBpZiAoKGltcG9ydC5tZXRhLmVudiA/IGltcG9ydC5tZXRhLmVudi5NT0RFIDogdm9pZCAwKSAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgaW52YWxpZGF0ZWRBdG9tcy5oYXMoYSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiW0J1Z10gaW52YWxpZGF0ZWQgYXRvbSBleGlzdHNcIik7XG4gICAgICB9XG4gICAgICB2aXNpdGVkLmFkZChhKTtcbiAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHZpc2l0aW5nLmFkZChhKTtcbiAgICBmb3IgKGNvbnN0IGQgb2YgZ2V0TW91bnRlZE9yUGVuZGluZ0RlcGVuZGVudHMoYSwgYVN0YXRlLCBtb3VudGVkTWFwKSkge1xuICAgICAgaWYgKCF2aXNpdGluZy5oYXMoZCkpIHtcbiAgICAgICAgc3RhY2sucHVzaChkKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZm9yIChsZXQgaSA9IHRvcFNvcnRlZFJldmVyc2VkLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgY29uc3QgW2EsIGFTdGF0ZV0gPSB0b3BTb3J0ZWRSZXZlcnNlZFtpXTtcbiAgICBsZXQgaGFzQ2hhbmdlZERlcHMgPSBmYWxzZTtcbiAgICBmb3IgKGNvbnN0IGRlcCBvZiBhU3RhdGUuZC5rZXlzKCkpIHtcbiAgICAgIGlmIChkZXAgIT09IGEgJiYgY2hhbmdlZEF0b21zLmhhcyhkZXApKSB7XG4gICAgICAgIGhhc0NoYW5nZWREZXBzID0gdHJ1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChoYXNDaGFuZ2VkRGVwcykge1xuICAgICAgcmVhZEF0b21TdGF0ZTIoc3RvcmUsIGEpO1xuICAgICAgbW91bnREZXBlbmRlbmNpZXMyKHN0b3JlLCBhKTtcbiAgICB9XG4gICAgaW52YWxpZGF0ZWRBdG9tcy5kZWxldGUoYSk7XG4gIH1cbn07XG5jb25zdCByZWFkQXRvbVN0YXRlID0gKHN0b3JlLCBhdG9tKSA9PiB7XG4gIHZhciBfYSwgX2I7XG4gIGNvbnN0IGJ1aWxkaW5nQmxvY2tzID0gZ2V0SW50ZXJuYWxCdWlsZGluZ0Jsb2NrcyhzdG9yZSk7XG4gIGNvbnN0IG1vdW50ZWRNYXAgPSBidWlsZGluZ0Jsb2Nrc1sxXTtcbiAgY29uc3QgaW52YWxpZGF0ZWRBdG9tcyA9IGJ1aWxkaW5nQmxvY2tzWzJdO1xuICBjb25zdCBjaGFuZ2VkQXRvbXMgPSBidWlsZGluZ0Jsb2Nrc1szXTtcbiAgY29uc3Qgc3RvcmVIb29rcyA9IGJ1aWxkaW5nQmxvY2tzWzZdO1xuICBjb25zdCBhdG9tUmVhZDIgPSBidWlsZGluZ0Jsb2Nrc1s3XTtcbiAgY29uc3QgZW5zdXJlQXRvbVN0YXRlMiA9IGJ1aWxkaW5nQmxvY2tzWzExXTtcbiAgY29uc3QgZmx1c2hDYWxsYmFja3MyID0gYnVpbGRpbmdCbG9ja3NbMTJdO1xuICBjb25zdCByZWNvbXB1dGVJbnZhbGlkYXRlZEF0b21zMiA9IGJ1aWxkaW5nQmxvY2tzWzEzXTtcbiAgY29uc3QgcmVhZEF0b21TdGF0ZTIgPSBidWlsZGluZ0Jsb2Nrc1sxNF07XG4gIGNvbnN0IHdyaXRlQXRvbVN0YXRlMiA9IGJ1aWxkaW5nQmxvY2tzWzE2XTtcbiAgY29uc3QgbW91bnREZXBlbmRlbmNpZXMyID0gYnVpbGRpbmdCbG9ja3NbMTddO1xuICBjb25zdCBhdG9tU3RhdGUgPSBlbnN1cmVBdG9tU3RhdGUyKHN0b3JlLCBhdG9tKTtcbiAgaWYgKGlzQXRvbVN0YXRlSW5pdGlhbGl6ZWQoYXRvbVN0YXRlKSkge1xuICAgIGlmIChtb3VudGVkTWFwLmhhcyhhdG9tKSAmJiBpbnZhbGlkYXRlZEF0b21zLmdldChhdG9tKSAhPT0gYXRvbVN0YXRlLm4pIHtcbiAgICAgIHJldHVybiBhdG9tU3RhdGU7XG4gICAgfVxuICAgIGlmIChBcnJheS5mcm9tKGF0b21TdGF0ZS5kKS5ldmVyeShcbiAgICAgIChbYSwgbl0pID0+IChcbiAgICAgICAgLy8gUmVjdXJzaXZlbHksIHJlYWQgdGhlIGF0b20gc3RhdGUgb2YgdGhlIGRlcGVuZGVuY3ksIGFuZFxuICAgICAgICAvLyBjaGVjayBpZiB0aGUgYXRvbSBlcG9jaCBudW1iZXIgaXMgdW5jaGFuZ2VkXG4gICAgICAgIHJlYWRBdG9tU3RhdGUyKHN0b3JlLCBhKS5uID09PSBuXG4gICAgICApXG4gICAgKSkge1xuICAgICAgcmV0dXJuIGF0b21TdGF0ZTtcbiAgICB9XG4gIH1cbiAgYXRvbVN0YXRlLmQuY2xlYXIoKTtcbiAgbGV0IGlzU3luYyA9IHRydWU7XG4gIGZ1bmN0aW9uIG1vdW50RGVwZW5kZW5jaWVzSWZBc3luYygpIHtcbiAgICBpZiAobW91bnRlZE1hcC5oYXMoYXRvbSkpIHtcbiAgICAgIG1vdW50RGVwZW5kZW5jaWVzMihzdG9yZSwgYXRvbSk7XG4gICAgICByZWNvbXB1dGVJbnZhbGlkYXRlZEF0b21zMihzdG9yZSk7XG4gICAgICBmbHVzaENhbGxiYWNrczIoc3RvcmUpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBnZXR0ZXIoYSkge1xuICAgIHZhciBfYTI7XG4gICAgaWYgKGEgPT09IGF0b20pIHtcbiAgICAgIGNvbnN0IGFTdGF0ZTIgPSBlbnN1cmVBdG9tU3RhdGUyKHN0b3JlLCBhKTtcbiAgICAgIGlmICghaXNBdG9tU3RhdGVJbml0aWFsaXplZChhU3RhdGUyKSkge1xuICAgICAgICBpZiAoaGFzSW5pdGlhbFZhbHVlKGEpKSB7XG4gICAgICAgICAgc2V0QXRvbVN0YXRlVmFsdWVPclByb21pc2Uoc3RvcmUsIGEsIGEuaW5pdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm8gYXRvbSBpbml0XCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmV0dXJuQXRvbVZhbHVlKGFTdGF0ZTIpO1xuICAgIH1cbiAgICBjb25zdCBhU3RhdGUgPSByZWFkQXRvbVN0YXRlMihzdG9yZSwgYSk7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiByZXR1cm5BdG9tVmFsdWUoYVN0YXRlKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgYXRvbVN0YXRlLmQuc2V0KGEsIGFTdGF0ZS5uKTtcbiAgICAgIGlmIChpc1BlbmRpbmdQcm9taXNlKGF0b21TdGF0ZS52KSkge1xuICAgICAgICBhZGRQZW5kaW5nUHJvbWlzZVRvRGVwZW5kZW5jeShhdG9tLCBhdG9tU3RhdGUudiwgYVN0YXRlKTtcbiAgICAgIH1cbiAgICAgIChfYTIgPSBtb3VudGVkTWFwLmdldChhKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi50LmFkZChhdG9tKTtcbiAgICAgIGlmICghaXNTeW5jKSB7XG4gICAgICAgIG1vdW50RGVwZW5kZW5jaWVzSWZBc3luYygpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBsZXQgY29udHJvbGxlcjtcbiAgbGV0IHNldFNlbGY7XG4gIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgZ2V0IHNpZ25hbCgpIHtcbiAgICAgIGlmICghY29udHJvbGxlcikge1xuICAgICAgICBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbnRyb2xsZXIuc2lnbmFsO1xuICAgIH0sXG4gICAgZ2V0IHNldFNlbGYoKSB7XG4gICAgICBpZiAoKGltcG9ydC5tZXRhLmVudiA/IGltcG9ydC5tZXRhLmVudi5NT0RFIDogdm9pZCAwKSAhPT0gXCJwcm9kdWN0aW9uXCIgJiYgIWlzQWN0dWFsbHlXcml0YWJsZUF0b20oYXRvbSkpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwic2V0U2VsZiBmdW5jdGlvbiBjYW5ub3QgYmUgdXNlZCB3aXRoIHJlYWQtb25seSBhdG9tXCIpO1xuICAgICAgfVxuICAgICAgaWYgKCFzZXRTZWxmICYmIGlzQWN0dWFsbHlXcml0YWJsZUF0b20oYXRvbSkpIHtcbiAgICAgICAgc2V0U2VsZiA9ICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgaWYgKChpbXBvcnQubWV0YS5lbnYgPyBpbXBvcnQubWV0YS5lbnYuTU9ERSA6IHZvaWQgMCkgIT09IFwicHJvZHVjdGlvblwiICYmIGlzU3luYykge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwic2V0U2VsZiBmdW5jdGlvbiBjYW5ub3QgYmUgY2FsbGVkIGluIHN5bmNcIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghaXNTeW5jKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICByZXR1cm4gd3JpdGVBdG9tU3RhdGUyKHN0b3JlLCBhdG9tLCAuLi5hcmdzKTtcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgIHJlY29tcHV0ZUludmFsaWRhdGVkQXRvbXMyKHN0b3JlKTtcbiAgICAgICAgICAgICAgZmx1c2hDYWxsYmFja3MyKHN0b3JlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gc2V0U2VsZjtcbiAgICB9XG4gIH07XG4gIGNvbnN0IHByZXZFcG9jaE51bWJlciA9IGF0b21TdGF0ZS5uO1xuICB0cnkge1xuICAgIGNvbnN0IHZhbHVlT3JQcm9taXNlID0gYXRvbVJlYWQyKHN0b3JlLCBhdG9tLCBnZXR0ZXIsIG9wdGlvbnMpO1xuICAgIHNldEF0b21TdGF0ZVZhbHVlT3JQcm9taXNlKHN0b3JlLCBhdG9tLCB2YWx1ZU9yUHJvbWlzZSk7XG4gICAgaWYgKGlzUHJvbWlzZUxpa2UodmFsdWVPclByb21pc2UpKSB7XG4gICAgICByZWdpc3RlckFib3J0SGFuZGxlcih2YWx1ZU9yUHJvbWlzZSwgKCkgPT4gY29udHJvbGxlciA9PSBudWxsID8gdm9pZCAwIDogY29udHJvbGxlci5hYm9ydCgpKTtcbiAgICAgIHZhbHVlT3JQcm9taXNlLnRoZW4obW91bnREZXBlbmRlbmNpZXNJZkFzeW5jLCBtb3VudERlcGVuZGVuY2llc0lmQXN5bmMpO1xuICAgIH1cbiAgICAoX2EgPSBzdG9yZUhvb2tzLnIpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jYWxsKHN0b3JlSG9va3MsIGF0b20pO1xuICAgIHJldHVybiBhdG9tU3RhdGU7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZGVsZXRlIGF0b21TdGF0ZS52O1xuICAgIGF0b21TdGF0ZS5lID0gZXJyb3I7XG4gICAgKythdG9tU3RhdGUubjtcbiAgICByZXR1cm4gYXRvbVN0YXRlO1xuICB9IGZpbmFsbHkge1xuICAgIGlzU3luYyA9IGZhbHNlO1xuICAgIGlmIChwcmV2RXBvY2hOdW1iZXIgIT09IGF0b21TdGF0ZS5uICYmIGludmFsaWRhdGVkQXRvbXMuZ2V0KGF0b20pID09PSBwcmV2RXBvY2hOdW1iZXIpIHtcbiAgICAgIGludmFsaWRhdGVkQXRvbXMuc2V0KGF0b20sIGF0b21TdGF0ZS5uKTtcbiAgICAgIGNoYW5nZWRBdG9tcy5hZGQoYXRvbSk7XG4gICAgICAoX2IgPSBzdG9yZUhvb2tzLmMpID09IG51bGwgPyB2b2lkIDAgOiBfYi5jYWxsKHN0b3JlSG9va3MsIGF0b20pO1xuICAgIH1cbiAgfVxufTtcbmNvbnN0IGludmFsaWRhdGVEZXBlbmRlbnRzID0gKHN0b3JlLCBhdG9tKSA9PiB7XG4gIGNvbnN0IGJ1aWxkaW5nQmxvY2tzID0gZ2V0SW50ZXJuYWxCdWlsZGluZ0Jsb2NrcyhzdG9yZSk7XG4gIGNvbnN0IG1vdW50ZWRNYXAgPSBidWlsZGluZ0Jsb2Nrc1sxXTtcbiAgY29uc3QgaW52YWxpZGF0ZWRBdG9tcyA9IGJ1aWxkaW5nQmxvY2tzWzJdO1xuICBjb25zdCBlbnN1cmVBdG9tU3RhdGUyID0gYnVpbGRpbmdCbG9ja3NbMTFdO1xuICBjb25zdCBzdGFjayA9IFthdG9tXTtcbiAgd2hpbGUgKHN0YWNrLmxlbmd0aCkge1xuICAgIGNvbnN0IGEgPSBzdGFjay5wb3AoKTtcbiAgICBjb25zdCBhU3RhdGUgPSBlbnN1cmVBdG9tU3RhdGUyKHN0b3JlLCBhKTtcbiAgICBmb3IgKGNvbnN0IGQgb2YgZ2V0TW91bnRlZE9yUGVuZGluZ0RlcGVuZGVudHMoYSwgYVN0YXRlLCBtb3VudGVkTWFwKSkge1xuICAgICAgY29uc3QgZFN0YXRlID0gZW5zdXJlQXRvbVN0YXRlMihzdG9yZSwgZCk7XG4gICAgICBpbnZhbGlkYXRlZEF0b21zLnNldChkLCBkU3RhdGUubik7XG4gICAgICBzdGFjay5wdXNoKGQpO1xuICAgIH1cbiAgfVxufTtcbmNvbnN0IHdyaXRlQXRvbVN0YXRlID0gKHN0b3JlLCBhdG9tLCAuLi5hcmdzKSA9PiB7XG4gIGNvbnN0IGJ1aWxkaW5nQmxvY2tzID0gZ2V0SW50ZXJuYWxCdWlsZGluZ0Jsb2NrcyhzdG9yZSk7XG4gIGNvbnN0IGNoYW5nZWRBdG9tcyA9IGJ1aWxkaW5nQmxvY2tzWzNdO1xuICBjb25zdCBzdG9yZUhvb2tzID0gYnVpbGRpbmdCbG9ja3NbNl07XG4gIGNvbnN0IGF0b21Xcml0ZTIgPSBidWlsZGluZ0Jsb2Nrc1s4XTtcbiAgY29uc3QgZW5zdXJlQXRvbVN0YXRlMiA9IGJ1aWxkaW5nQmxvY2tzWzExXTtcbiAgY29uc3QgZmx1c2hDYWxsYmFja3MyID0gYnVpbGRpbmdCbG9ja3NbMTJdO1xuICBjb25zdCByZWNvbXB1dGVJbnZhbGlkYXRlZEF0b21zMiA9IGJ1aWxkaW5nQmxvY2tzWzEzXTtcbiAgY29uc3QgcmVhZEF0b21TdGF0ZTIgPSBidWlsZGluZ0Jsb2Nrc1sxNF07XG4gIGNvbnN0IGludmFsaWRhdGVEZXBlbmRlbnRzMiA9IGJ1aWxkaW5nQmxvY2tzWzE1XTtcbiAgY29uc3QgbW91bnREZXBlbmRlbmNpZXMyID0gYnVpbGRpbmdCbG9ja3NbMTddO1xuICBsZXQgaXNTeW5jID0gdHJ1ZTtcbiAgY29uc3QgZ2V0dGVyID0gKGEpID0+IHJldHVybkF0b21WYWx1ZShyZWFkQXRvbVN0YXRlMihzdG9yZSwgYSkpO1xuICBjb25zdCBzZXR0ZXIgPSAoYSwgLi4uYXJnczIpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgYVN0YXRlID0gZW5zdXJlQXRvbVN0YXRlMihzdG9yZSwgYSk7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChhID09PSBhdG9tKSB7XG4gICAgICAgIGlmICghaGFzSW5pdGlhbFZhbHVlKGEpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYXRvbSBub3Qgd3JpdGFibGVcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJldkVwb2NoTnVtYmVyID0gYVN0YXRlLm47XG4gICAgICAgIGNvbnN0IHYgPSBhcmdzMlswXTtcbiAgICAgICAgc2V0QXRvbVN0YXRlVmFsdWVPclByb21pc2Uoc3RvcmUsIGEsIHYpO1xuICAgICAgICBtb3VudERlcGVuZGVuY2llczIoc3RvcmUsIGEpO1xuICAgICAgICBpZiAocHJldkVwb2NoTnVtYmVyICE9PSBhU3RhdGUubikge1xuICAgICAgICAgIGNoYW5nZWRBdG9tcy5hZGQoYSk7XG4gICAgICAgICAgKF9hID0gc3RvcmVIb29rcy5jKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FsbChzdG9yZUhvb2tzLCBhKTtcbiAgICAgICAgICBpbnZhbGlkYXRlRGVwZW5kZW50czIoc3RvcmUsIGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gd3JpdGVBdG9tU3RhdGUoc3RvcmUsIGEsIC4uLmFyZ3MyKTtcbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKCFpc1N5bmMpIHtcbiAgICAgICAgcmVjb21wdXRlSW52YWxpZGF0ZWRBdG9tczIoc3RvcmUpO1xuICAgICAgICBmbHVzaENhbGxiYWNrczIoc3RvcmUpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgdHJ5IHtcbiAgICByZXR1cm4gYXRvbVdyaXRlMihzdG9yZSwgYXRvbSwgZ2V0dGVyLCBzZXR0ZXIsIC4uLmFyZ3MpO1xuICB9IGZpbmFsbHkge1xuICAgIGlzU3luYyA9IGZhbHNlO1xuICB9XG59O1xuY29uc3QgbW91bnREZXBlbmRlbmNpZXMgPSAoc3RvcmUsIGF0b20pID0+IHtcbiAgdmFyIF9hO1xuICBjb25zdCBidWlsZGluZ0Jsb2NrcyA9IGdldEludGVybmFsQnVpbGRpbmdCbG9ja3Moc3RvcmUpO1xuICBjb25zdCBtb3VudGVkTWFwID0gYnVpbGRpbmdCbG9ja3NbMV07XG4gIGNvbnN0IGNoYW5nZWRBdG9tcyA9IGJ1aWxkaW5nQmxvY2tzWzNdO1xuICBjb25zdCBzdG9yZUhvb2tzID0gYnVpbGRpbmdCbG9ja3NbNl07XG4gIGNvbnN0IGVuc3VyZUF0b21TdGF0ZTIgPSBidWlsZGluZ0Jsb2Nrc1sxMV07XG4gIGNvbnN0IGludmFsaWRhdGVEZXBlbmRlbnRzMiA9IGJ1aWxkaW5nQmxvY2tzWzE1XTtcbiAgY29uc3QgbW91bnRBdG9tMiA9IGJ1aWxkaW5nQmxvY2tzWzE4XTtcbiAgY29uc3QgdW5tb3VudEF0b20yID0gYnVpbGRpbmdCbG9ja3NbMTldO1xuICBjb25zdCBhdG9tU3RhdGUgPSBlbnN1cmVBdG9tU3RhdGUyKHN0b3JlLCBhdG9tKTtcbiAgY29uc3QgbW91bnRlZCA9IG1vdW50ZWRNYXAuZ2V0KGF0b20pO1xuICBpZiAobW91bnRlZCAmJiAhaXNQZW5kaW5nUHJvbWlzZShhdG9tU3RhdGUudikpIHtcbiAgICBmb3IgKGNvbnN0IFthLCBuXSBvZiBhdG9tU3RhdGUuZCkge1xuICAgICAgaWYgKCFtb3VudGVkLmQuaGFzKGEpKSB7XG4gICAgICAgIGNvbnN0IGFTdGF0ZSA9IGVuc3VyZUF0b21TdGF0ZTIoc3RvcmUsIGEpO1xuICAgICAgICBjb25zdCBhTW91bnRlZCA9IG1vdW50QXRvbTIoc3RvcmUsIGEpO1xuICAgICAgICBhTW91bnRlZC50LmFkZChhdG9tKTtcbiAgICAgICAgbW91bnRlZC5kLmFkZChhKTtcbiAgICAgICAgaWYgKG4gIT09IGFTdGF0ZS5uKSB7XG4gICAgICAgICAgY2hhbmdlZEF0b21zLmFkZChhKTtcbiAgICAgICAgICAoX2EgPSBzdG9yZUhvb2tzLmMpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jYWxsKHN0b3JlSG9va3MsIGEpO1xuICAgICAgICAgIGludmFsaWRhdGVEZXBlbmRlbnRzMihzdG9yZSwgYSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChjb25zdCBhIG9mIG1vdW50ZWQuZCB8fCBbXSkge1xuICAgICAgaWYgKCFhdG9tU3RhdGUuZC5oYXMoYSkpIHtcbiAgICAgICAgbW91bnRlZC5kLmRlbGV0ZShhKTtcbiAgICAgICAgY29uc3QgYU1vdW50ZWQgPSB1bm1vdW50QXRvbTIoc3RvcmUsIGEpO1xuICAgICAgICBhTW91bnRlZCA9PSBudWxsID8gdm9pZCAwIDogYU1vdW50ZWQudC5kZWxldGUoYXRvbSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuY29uc3QgbW91bnRBdG9tID0gKHN0b3JlLCBhdG9tKSA9PiB7XG4gIHZhciBfYTtcbiAgY29uc3QgYnVpbGRpbmdCbG9ja3MgPSBnZXRJbnRlcm5hbEJ1aWxkaW5nQmxvY2tzKHN0b3JlKTtcbiAgY29uc3QgbW91bnRlZE1hcCA9IGJ1aWxkaW5nQmxvY2tzWzFdO1xuICBjb25zdCBtb3VudENhbGxiYWNrcyA9IGJ1aWxkaW5nQmxvY2tzWzRdO1xuICBjb25zdCBzdG9yZUhvb2tzID0gYnVpbGRpbmdCbG9ja3NbNl07XG4gIGNvbnN0IGF0b21Pbk1vdW50MiA9IGJ1aWxkaW5nQmxvY2tzWzEwXTtcbiAgY29uc3QgZW5zdXJlQXRvbVN0YXRlMiA9IGJ1aWxkaW5nQmxvY2tzWzExXTtcbiAgY29uc3QgZmx1c2hDYWxsYmFja3MyID0gYnVpbGRpbmdCbG9ja3NbMTJdO1xuICBjb25zdCByZWNvbXB1dGVJbnZhbGlkYXRlZEF0b21zMiA9IGJ1aWxkaW5nQmxvY2tzWzEzXTtcbiAgY29uc3QgcmVhZEF0b21TdGF0ZTIgPSBidWlsZGluZ0Jsb2Nrc1sxNF07XG4gIGNvbnN0IHdyaXRlQXRvbVN0YXRlMiA9IGJ1aWxkaW5nQmxvY2tzWzE2XTtcbiAgY29uc3QgYXRvbVN0YXRlID0gZW5zdXJlQXRvbVN0YXRlMihzdG9yZSwgYXRvbSk7XG4gIGxldCBtb3VudGVkID0gbW91bnRlZE1hcC5nZXQoYXRvbSk7XG4gIGlmICghbW91bnRlZCkge1xuICAgIHJlYWRBdG9tU3RhdGUyKHN0b3JlLCBhdG9tKTtcbiAgICBmb3IgKGNvbnN0IGEgb2YgYXRvbVN0YXRlLmQua2V5cygpKSB7XG4gICAgICBjb25zdCBhTW91bnRlZCA9IG1vdW50QXRvbShzdG9yZSwgYSk7XG4gICAgICBhTW91bnRlZC50LmFkZChhdG9tKTtcbiAgICB9XG4gICAgbW91bnRlZCA9IHtcbiAgICAgIGw6IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCksXG4gICAgICBkOiBuZXcgU2V0KGF0b21TdGF0ZS5kLmtleXMoKSksXG4gICAgICB0OiAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpXG4gICAgfTtcbiAgICBtb3VudGVkTWFwLnNldChhdG9tLCBtb3VudGVkKTtcbiAgICAoX2EgPSBzdG9yZUhvb2tzLm0pID09IG51bGwgPyB2b2lkIDAgOiBfYS5jYWxsKHN0b3JlSG9va3MsIGF0b20pO1xuICAgIGlmIChpc0FjdHVhbGx5V3JpdGFibGVBdG9tKGF0b20pKSB7XG4gICAgICBjb25zdCBwcm9jZXNzT25Nb3VudCA9ICgpID0+IHtcbiAgICAgICAgbGV0IGlzU3luYyA9IHRydWU7XG4gICAgICAgIGNvbnN0IHNldEF0b20gPSAoLi4uYXJncykgPT4ge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gd3JpdGVBdG9tU3RhdGUyKHN0b3JlLCBhdG9tLCAuLi5hcmdzKTtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgaWYgKCFpc1N5bmMpIHtcbiAgICAgICAgICAgICAgcmVjb21wdXRlSW52YWxpZGF0ZWRBdG9tczIoc3RvcmUpO1xuICAgICAgICAgICAgICBmbHVzaENhbGxiYWNrczIoc3RvcmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBvblVubW91bnQgPSBhdG9tT25Nb3VudDIoc3RvcmUsIGF0b20sIHNldEF0b20pO1xuICAgICAgICAgIGlmIChvblVubW91bnQpIHtcbiAgICAgICAgICAgIG1vdW50ZWQudSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgaXNTeW5jID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBvblVubW91bnQoKTtcbiAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBpc1N5bmMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgaXNTeW5jID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBtb3VudENhbGxiYWNrcy5hZGQocHJvY2Vzc09uTW91bnQpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbW91bnRlZDtcbn07XG5jb25zdCB1bm1vdW50QXRvbSA9IChzdG9yZSwgYXRvbSkgPT4ge1xuICB2YXIgX2E7XG4gIGNvbnN0IGJ1aWxkaW5nQmxvY2tzID0gZ2V0SW50ZXJuYWxCdWlsZGluZ0Jsb2NrcyhzdG9yZSk7XG4gIGNvbnN0IG1vdW50ZWRNYXAgPSBidWlsZGluZ0Jsb2Nrc1sxXTtcbiAgY29uc3QgdW5tb3VudENhbGxiYWNrcyA9IGJ1aWxkaW5nQmxvY2tzWzVdO1xuICBjb25zdCBzdG9yZUhvb2tzID0gYnVpbGRpbmdCbG9ja3NbNl07XG4gIGNvbnN0IGVuc3VyZUF0b21TdGF0ZTIgPSBidWlsZGluZ0Jsb2Nrc1sxMV07XG4gIGNvbnN0IHVubW91bnRBdG9tMiA9IGJ1aWxkaW5nQmxvY2tzWzE5XTtcbiAgY29uc3QgYXRvbVN0YXRlID0gZW5zdXJlQXRvbVN0YXRlMihzdG9yZSwgYXRvbSk7XG4gIGxldCBtb3VudGVkID0gbW91bnRlZE1hcC5nZXQoYXRvbSk7XG4gIGlmIChtb3VudGVkICYmICFtb3VudGVkLmwuc2l6ZSAmJiAhQXJyYXkuZnJvbShtb3VudGVkLnQpLnNvbWUoKGEpID0+IHtcbiAgICB2YXIgX2EyO1xuICAgIHJldHVybiAoX2EyID0gbW91bnRlZE1hcC5nZXQoYSkpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuZC5oYXMoYXRvbSk7XG4gIH0pKSB7XG4gICAgaWYgKG1vdW50ZWQudSkge1xuICAgICAgdW5tb3VudENhbGxiYWNrcy5hZGQobW91bnRlZC51KTtcbiAgICB9XG4gICAgbW91bnRlZCA9IHZvaWQgMDtcbiAgICBtb3VudGVkTWFwLmRlbGV0ZShhdG9tKTtcbiAgICAoX2EgPSBzdG9yZUhvb2tzLnUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jYWxsKHN0b3JlSG9va3MsIGF0b20pO1xuICAgIGZvciAoY29uc3QgYSBvZiBhdG9tU3RhdGUuZC5rZXlzKCkpIHtcbiAgICAgIGNvbnN0IGFNb3VudGVkID0gdW5tb3VudEF0b20yKHN0b3JlLCBhKTtcbiAgICAgIGFNb3VudGVkID09IG51bGwgPyB2b2lkIDAgOiBhTW91bnRlZC50LmRlbGV0ZShhdG9tKTtcbiAgICB9XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICByZXR1cm4gbW91bnRlZDtcbn07XG5jb25zdCBzZXRBdG9tU3RhdGVWYWx1ZU9yUHJvbWlzZSA9IChzdG9yZSwgYXRvbSwgdmFsdWVPclByb21pc2UpID0+IHtcbiAgY29uc3QgZW5zdXJlQXRvbVN0YXRlMiA9IGdldEludGVybmFsQnVpbGRpbmdCbG9ja3Moc3RvcmUpWzExXTtcbiAgY29uc3QgYXRvbVN0YXRlID0gZW5zdXJlQXRvbVN0YXRlMihzdG9yZSwgYXRvbSk7XG4gIGNvbnN0IGhhc1ByZXZWYWx1ZSA9IFwidlwiIGluIGF0b21TdGF0ZTtcbiAgY29uc3QgcHJldlZhbHVlID0gYXRvbVN0YXRlLnY7XG4gIGlmIChpc1Byb21pc2VMaWtlKHZhbHVlT3JQcm9taXNlKSkge1xuICAgIGZvciAoY29uc3QgYSBvZiBhdG9tU3RhdGUuZC5rZXlzKCkpIHtcbiAgICAgIGFkZFBlbmRpbmdQcm9taXNlVG9EZXBlbmRlbmN5KFxuICAgICAgICBhdG9tLFxuICAgICAgICB2YWx1ZU9yUHJvbWlzZSxcbiAgICAgICAgZW5zdXJlQXRvbVN0YXRlMihzdG9yZSwgYSlcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIGF0b21TdGF0ZS52ID0gdmFsdWVPclByb21pc2U7XG4gIGRlbGV0ZSBhdG9tU3RhdGUuZTtcbiAgaWYgKCFoYXNQcmV2VmFsdWUgfHwgIU9iamVjdC5pcyhwcmV2VmFsdWUsIGF0b21TdGF0ZS52KSkge1xuICAgICsrYXRvbVN0YXRlLm47XG4gICAgaWYgKGlzUHJvbWlzZUxpa2UocHJldlZhbHVlKSkge1xuICAgICAgYWJvcnRQcm9taXNlKHByZXZWYWx1ZSk7XG4gICAgfVxuICB9XG59O1xuY29uc3Qgc3RvcmVHZXQgPSAoc3RvcmUsIGF0b20pID0+IHtcbiAgY29uc3QgcmVhZEF0b21TdGF0ZTIgPSBnZXRJbnRlcm5hbEJ1aWxkaW5nQmxvY2tzKHN0b3JlKVsxNF07XG4gIHJldHVybiByZXR1cm5BdG9tVmFsdWUocmVhZEF0b21TdGF0ZTIoc3RvcmUsIGF0b20pKTtcbn07XG5jb25zdCBzdG9yZVNldCA9IChzdG9yZSwgYXRvbSwgLi4uYXJncykgPT4ge1xuICBjb25zdCBidWlsZGluZ0Jsb2NrcyA9IGdldEludGVybmFsQnVpbGRpbmdCbG9ja3Moc3RvcmUpO1xuICBjb25zdCBmbHVzaENhbGxiYWNrczIgPSBidWlsZGluZ0Jsb2Nrc1sxMl07XG4gIGNvbnN0IHJlY29tcHV0ZUludmFsaWRhdGVkQXRvbXMyID0gYnVpbGRpbmdCbG9ja3NbMTNdO1xuICBjb25zdCB3cml0ZUF0b21TdGF0ZTIgPSBidWlsZGluZ0Jsb2Nrc1sxNl07XG4gIHRyeSB7XG4gICAgcmV0dXJuIHdyaXRlQXRvbVN0YXRlMihzdG9yZSwgYXRvbSwgLi4uYXJncyk7XG4gIH0gZmluYWxseSB7XG4gICAgcmVjb21wdXRlSW52YWxpZGF0ZWRBdG9tczIoc3RvcmUpO1xuICAgIGZsdXNoQ2FsbGJhY2tzMihzdG9yZSk7XG4gIH1cbn07XG5jb25zdCBzdG9yZVN1YiA9IChzdG9yZSwgYXRvbSwgbGlzdGVuZXIpID0+IHtcbiAgY29uc3QgYnVpbGRpbmdCbG9ja3MgPSBnZXRJbnRlcm5hbEJ1aWxkaW5nQmxvY2tzKHN0b3JlKTtcbiAgY29uc3QgZmx1c2hDYWxsYmFja3MyID0gYnVpbGRpbmdCbG9ja3NbMTJdO1xuICBjb25zdCBtb3VudEF0b20yID0gYnVpbGRpbmdCbG9ja3NbMThdO1xuICBjb25zdCB1bm1vdW50QXRvbTIgPSBidWlsZGluZ0Jsb2Nrc1sxOV07XG4gIGNvbnN0IG1vdW50ZWQgPSBtb3VudEF0b20yKHN0b3JlLCBhdG9tKTtcbiAgY29uc3QgbGlzdGVuZXJzID0gbW91bnRlZC5sO1xuICBsaXN0ZW5lcnMuYWRkKGxpc3RlbmVyKTtcbiAgZmx1c2hDYWxsYmFja3MyKHN0b3JlKTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBsaXN0ZW5lcnMuZGVsZXRlKGxpc3RlbmVyKTtcbiAgICB1bm1vdW50QXRvbTIoc3RvcmUsIGF0b20pO1xuICAgIGZsdXNoQ2FsbGJhY2tzMihzdG9yZSk7XG4gIH07XG59O1xuY29uc3QgYnVpbGRpbmdCbG9ja01hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuY29uc3QgZ2V0SW50ZXJuYWxCdWlsZGluZ0Jsb2NrcyA9IChzdG9yZSkgPT4ge1xuICBjb25zdCBidWlsZGluZ0Jsb2NrcyA9IGJ1aWxkaW5nQmxvY2tNYXAuZ2V0KHN0b3JlKTtcbiAgaWYgKChpbXBvcnQubWV0YS5lbnYgPyBpbXBvcnQubWV0YS5lbnYuTU9ERSA6IHZvaWQgMCkgIT09IFwicHJvZHVjdGlvblwiICYmICFidWlsZGluZ0Jsb2Nrcykge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIFwiU3RvcmUgbXVzdCBiZSBjcmVhdGVkIGJ5IGJ1aWxkU3RvcmUgdG8gcmVhZCBpdHMgYnVpbGRpbmcgYmxvY2tzXCJcbiAgICApO1xuICB9XG4gIHJldHVybiBidWlsZGluZ0Jsb2Nrcztcbn07XG5mdW5jdGlvbiBnZXRCdWlsZGluZ0Jsb2NrcyhzdG9yZSkge1xuICBjb25zdCBidWlsZGluZ0Jsb2NrcyA9IGdldEludGVybmFsQnVpbGRpbmdCbG9ja3Moc3RvcmUpO1xuICBjb25zdCBlbmhhbmNlQnVpbGRpbmdCbG9ja3MgPSBidWlsZGluZ0Jsb2Nrc1syNF07XG4gIGlmIChlbmhhbmNlQnVpbGRpbmdCbG9ja3MpIHtcbiAgICByZXR1cm4gZW5oYW5jZUJ1aWxkaW5nQmxvY2tzKGJ1aWxkaW5nQmxvY2tzKTtcbiAgfVxuICByZXR1cm4gYnVpbGRpbmdCbG9ja3M7XG59XG5mdW5jdGlvbiBidWlsZFN0b3JlKC4uLmJ1aWxkQXJncykge1xuICBjb25zdCBzdG9yZSA9IHtcbiAgICBnZXQoYXRvbSkge1xuICAgICAgY29uc3Qgc3RvcmVHZXQyID0gZ2V0SW50ZXJuYWxCdWlsZGluZ0Jsb2NrcyhzdG9yZSlbMjFdO1xuICAgICAgcmV0dXJuIHN0b3JlR2V0MihzdG9yZSwgYXRvbSk7XG4gICAgfSxcbiAgICBzZXQoYXRvbSwgLi4uYXJncykge1xuICAgICAgY29uc3Qgc3RvcmVTZXQyID0gZ2V0SW50ZXJuYWxCdWlsZGluZ0Jsb2NrcyhzdG9yZSlbMjJdO1xuICAgICAgcmV0dXJuIHN0b3JlU2V0MihzdG9yZSwgYXRvbSwgLi4uYXJncyk7XG4gICAgfSxcbiAgICBzdWIoYXRvbSwgbGlzdGVuZXIpIHtcbiAgICAgIGNvbnN0IHN0b3JlU3ViMiA9IGdldEludGVybmFsQnVpbGRpbmdCbG9ja3Moc3RvcmUpWzIzXTtcbiAgICAgIHJldHVybiBzdG9yZVN1YjIoc3RvcmUsIGF0b20sIGxpc3RlbmVyKTtcbiAgICB9XG4gIH07XG4gIGNvbnN0IGJ1aWxkaW5nQmxvY2tzID0gW1xuICAgIC8vIHN0b3JlIHN0YXRlXG4gICAgLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCksXG4gICAgLy8gYXRvbVN0YXRlTWFwXG4gICAgLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCksXG4gICAgLy8gbW91bnRlZE1hcFxuICAgIC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpLFxuICAgIC8vIGludmFsaWRhdGVkQXRvbXNcbiAgICAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpLFxuICAgIC8vIGNoYW5nZWRBdG9tc1xuICAgIC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCksXG4gICAgLy8gbW91bnRDYWxsYmFja3NcbiAgICAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpLFxuICAgIC8vIHVubW91bnRDYWxsYmFja3NcbiAgICB7fSxcbiAgICAvLyBzdG9yZUhvb2tzXG4gICAgLy8gYXRvbSBpbnRlcmNlcHRvcnNcbiAgICBhdG9tUmVhZCxcbiAgICBhdG9tV3JpdGUsXG4gICAgYXRvbU9uSW5pdCxcbiAgICBhdG9tT25Nb3VudCxcbiAgICAvLyBidWlsZGluZy1ibG9jayBmdW5jdGlvbnNcbiAgICBlbnN1cmVBdG9tU3RhdGUsXG4gICAgZmx1c2hDYWxsYmFja3MsXG4gICAgcmVjb21wdXRlSW52YWxpZGF0ZWRBdG9tcyxcbiAgICByZWFkQXRvbVN0YXRlLFxuICAgIGludmFsaWRhdGVEZXBlbmRlbnRzLFxuICAgIHdyaXRlQXRvbVN0YXRlLFxuICAgIG1vdW50RGVwZW5kZW5jaWVzLFxuICAgIG1vdW50QXRvbSxcbiAgICB1bm1vdW50QXRvbSxcbiAgICBzZXRBdG9tU3RhdGVWYWx1ZU9yUHJvbWlzZSxcbiAgICBzdG9yZUdldCxcbiAgICBzdG9yZVNldCxcbiAgICBzdG9yZVN1YixcbiAgICB2b2lkIDBcbiAgXS5tYXAoKGZuLCBpKSA9PiBidWlsZEFyZ3NbaV0gfHwgZm4pO1xuICBidWlsZGluZ0Jsb2NrTWFwLnNldChzdG9yZSwgT2JqZWN0LmZyZWV6ZShidWlsZGluZ0Jsb2NrcykpO1xuICByZXR1cm4gc3RvcmU7XG59XG5cbmV4cG9ydCB7IGFib3J0UHJvbWlzZSBhcyBJTlRFUk5BTF9hYm9ydFByb21pc2UsIGFkZFBlbmRpbmdQcm9taXNlVG9EZXBlbmRlbmN5IGFzIElOVEVSTkFMX2FkZFBlbmRpbmdQcm9taXNlVG9EZXBlbmRlbmN5LCBidWlsZFN0b3JlIGFzIElOVEVSTkFMX2J1aWxkU3RvcmVSZXYyLCBnZXRCdWlsZGluZ0Jsb2NrcyBhcyBJTlRFUk5BTF9nZXRCdWlsZGluZ0Jsb2Nrc1JldjIsIGdldE1vdW50ZWRPclBlbmRpbmdEZXBlbmRlbnRzIGFzIElOVEVSTkFMX2dldE1vdW50ZWRPclBlbmRpbmdEZXBlbmRlbnRzLCBoYXNJbml0aWFsVmFsdWUgYXMgSU5URVJOQUxfaGFzSW5pdGlhbFZhbHVlLCBpbml0aWFsaXplU3RvcmVIb29rcyBhcyBJTlRFUk5BTF9pbml0aWFsaXplU3RvcmVIb29rc1JldjIsIGlzQWN0dWFsbHlXcml0YWJsZUF0b20gYXMgSU5URVJOQUxfaXNBY3R1YWxseVdyaXRhYmxlQXRvbSwgaXNBdG9tU3RhdGVJbml0aWFsaXplZCBhcyBJTlRFUk5BTF9pc0F0b21TdGF0ZUluaXRpYWxpemVkLCBpc1BlbmRpbmdQcm9taXNlIGFzIElOVEVSTkFMX2lzUGVuZGluZ1Byb21pc2UsIGlzUHJvbWlzZUxpa2UgYXMgSU5URVJOQUxfaXNQcm9taXNlTGlrZSwgcHJvbWlzZVN0YXRlTWFwIGFzIElOVEVSTkFMX3Byb21pc2VTdGF0ZU1hcCwgcmVnaXN0ZXJBYm9ydEhhbmRsZXIgYXMgSU5URVJOQUxfcmVnaXN0ZXJBYm9ydEhhbmRsZXIsIHJldHVybkF0b21WYWx1ZSBhcyBJTlRFUk5BTF9yZXR1cm5BdG9tVmFsdWUgfTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/jotai@2.15.0_@types+react@18.3.26_react@18.2.0/node_modules/jotai/esm/vanilla/internals.mjs\n");

/***/ })

};
;